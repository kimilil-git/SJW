/* =========================
   로컬 폰트 적용 (400/700)
   - 기존 디자인/레이아웃 유지 위해 font-family 명을 그대로 사용
   - woff2만 사용(가장 최적화)
   ========================= */
@font-face {
    font-family: 'LINE Seed Sans KR';
    src: url('font/LINESeedKR-Rg.woff2') format('woff2');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'LINE Seed Sans KR';
    src: url('font/LINESeedKR-Bd.woff2') format('woff2');
    font-weight: 700;
    font-style: normal;
    font-display: swap;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
    /* 100vw(슬로건 등)로 인한 가로 오버플로우 방지 */
    overflow-x: clip;
}

body {
    font-family: 'LINE Seed Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    color: rgba(51, 51, 51, 1);
    /* 일부 브라우저에서 body만으로는 100vw 오버플로우가 남는 케이스가 있어 clip로 통일 */
    overflow-x: clip;
    background: rgba(0, 0, 0, 1);
}

/* ✅ 한글 영역: 화면 축소로 인한 자동 줄바꿈이 단어절 기준으로 되도록 */
html[lang="ko"] body {
    word-break: keep-all;
    overflow-wrap: break-word; /* 아주 긴 문자열만 예외적으로 줄바꿈 */
}

/* GNB (Global Navigation Bar) */
.gnb {
    position: fixed;
    top: 1.5rem; /* 24px */
    left: 50%;
    transform: translateX(-50%);
    width: 83.625rem; /* 1338px */
    max-width: 90vw;
    z-index: 1000;
    pointer-events: none;
}

.gnb-container {
    display: flex;
    align-items: stretch; /* 높이를 동일하게 맞춤 */
    gap: 0.75rem; /* 12px gap between main and sub */
    width: 100%;
    pointer-events: auto;
    position: relative;
    z-index: 2; /* 모바일 오버레이 위로(로고/닫기 보이도록) */
}

/* Main Navigation */
.gnb-main {
    width: 90%; /* 1193px / 1338px */
    display: flex;
    align-items: center;
    justify-content: space-between; /* 양쪽 정렬 */
    padding: 0.75rem 2rem 0.75rem 3rem; /* 12px 48px */
    position: relative;
    overflow: hidden;
    border-radius: 9999px; /* pill shape */
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 2.2);
    isolation: isolate;
}

/* 리퀴드 글래스 효과 레이어 (::before) - 블러 및 배경 왜곡 */
.gnb-main::before {
    content: '';
    position: absolute;
    z-index: 0;
    inset: 0;
    border-radius: 9999px;
    
    /* 베이스 글래스 색 (살짝 회색 기름칠 느낌) */
    background-color: rgba(3, 4, 29, 0.05);
    
    /* 백그라운드 블러 및 포화도 효과 + SVG 필터로 왜곡 효과 */
    backdrop-filter: blur(8px) saturate(140%) url(#gnb-glass);
    -webkit-backdrop-filter: blur(8px) saturate(140%); /* Safari: url() 미지원 */
    
    /* 유리 두께 + 반사광 느낌 */
    box-shadow:
        inset 0 0 0 1px rgba(255, 255, 255, 0.12),
        inset 2px 3px 0 -2px rgba(255, 255, 255, 0.36),
        inset -2px -2px 0 -2px rgba(255, 255, 255, 0.6),
        0 8px 20px rgba(0, 0, 0, 0.45);
    
    pointer-events: none;
    overflow: hidden;
}

/* 리퀴드 글래스 틴트 레이어 (::after) */
.gnb-main::after {
    content: '';
    position: absolute;
    z-index: 1;
    inset: 0;
    border-radius: 9999px;
    background: rgba(255, 255, 255, 0.25);
    pointer-events: none;
}

.gnb-logo {
    display: flex;
    align-items: center;
    text-decoration: none;
    flex-shrink: 0;
    position: relative;
    z-index: 3;
}

.gnb-logo-img {
    height: auto;
    width: 7.625rem; /* 122px */
    object-fit: contain;
}

.gnb-menu-wrapper {
    display: flex;
    align-items: center;
    gap: 2.8vw; /* 60px - 메뉴와 버튼 사이 간격 */
    position: relative;
    z-index: 3;
    margin-left: auto;
}

.gnb-menu {
    display: flex;
    align-items: center;
    gap: 2.8vw; /* 60px */
}

.gnb-menu-item {
    font-size: 1.125rem; /* 18px */
    line-height: 1.6;
    letter-spacing: -0.02em; /* -2% */
    color: rgba(255, 255, 255, 1);
    text-decoration: none;
    text-transform: uppercase;
    font-weight: 700; /* 두께 700 */
    transition: opacity 0.3s ease;
    white-space: nowrap;
    position: relative;
    z-index: 3;
}

.gnb-menu-item:hover {
    opacity: 0.8;
}

.gnb-issue-btn {
    background: rgba(73, 211, 255, 1);
    color: rgba(4, 6, 62, 1);
    font-size: 1.125rem; /* 18px */
    line-height: 1.6;
    letter-spacing: -0.02em; /* -2% */
    padding: 0.5rem 1rem; /* 8px 16px */
    border: none;
    border-radius: 9999px; /* pill shape */
    cursor: pointer;
    font-family: 'LINE Seed Sans KR', sans-serif;
    font-weight: 700; /* 두께 700 */
    text-transform: uppercase;
    white-space: nowrap;
    transition: all 0.3s ease;
    flex-shrink: 0;
    position: relative;
    z-index: 3;
}

.gnb-issue-btn:hover {
    background: rgba(73, 211, 255, 0.9);
    transform: translateY(-1px);
}

/* Language Selection */
.gnb-sub {
    width: 10%; /* 133px / 1338px */
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.75rem 2rem; /* 12px 32px - main과 동일한 상하 패딩 */
    position: relative;
    overflow: hidden;
    border-radius: 9999px; /* pill shape */
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 2.2);
    isolation: isolate;
}

/* 리퀴드 글래스 효과 레이어 (::before) - 블러 및 배경 왜곡 */
.gnb-sub::before {
    content: '';
    position: absolute;
    z-index: 0;
    inset: 0;
    border-radius: 9999px;
    
    /* 베이스 글래스 색 (살짝 회색 기름칠 느낌) */
    background-color: rgba(3, 4, 29, 0.05);
    
    /* 백그라운드 블러 및 포화도 효과 + SVG 필터로 왜곡 효과 */
    backdrop-filter: blur(8px) saturate(140%) url(#gnb-glass);
    -webkit-backdrop-filter: blur(8px) saturate(140%); /* Safari: url() 미지원 */
    
    /* 유리 두께 + 반사광 느낌 */
    box-shadow:
        inset 0 0 0 1px rgba(255, 255, 255, 0.12),
        inset 2px 3px 0 -2px rgba(255, 255, 255, 0.36),
        inset -2px -2px 0 -2px rgba(255, 255, 255, 0.6),
        0 8px 20px rgba(0, 0, 0, 0.45);
    
    pointer-events: none;
    overflow: hidden;
}

/* 리퀴드 글래스 틴트 레이어 (::after) */
.gnb-sub::after {
    content: '';
    position: absolute;
    z-index: 1;
    inset: 0;
    border-radius: 9999px;
    background: rgba(255, 255, 255, 0.25);
    pointer-events: none;
}

.gnb-lang {
    background: transparent;
    border: none;
    font-size: 1.125rem; /* 18px */
    line-height: 1.6;
    letter-spacing: -0.02em; /* -2% */
    color: rgba(255, 255, 255, 0.5);
    cursor: pointer;
    font-family: 'LINE Seed Sans KR', sans-serif;
    font-weight: 700; /* 두께 700 */
    text-transform: uppercase;
    transition: color 0.3s ease;
    padding: 0;
    position: relative;
    z-index: 3;
    /* ✅ KO/EN이 <a>로 바뀌어도 밑줄 제거 */
    text-decoration: none;
}

.gnb-lang.active {
    color: rgba(255, 255, 255, 1);
}

.gnb-lang:hover {
    color: rgba(255, 255, 255, 0.8);
}

/* 햄버거 버튼 (기본: 숨김, 모바일에서만 노출) */
.gnb-hamburger {
    display: none;
    width: 44px;
    height: 44px;
    border: none;
    background: transparent;
    cursor: pointer;
    padding: 10px;
    position: relative;
    z-index: 3;
}

.gnb-hamburger-icon {
    width: 24px;
    height: 24px;
    display: block;
}

/* 모바일 메뉴 오버레이 (기본: hidden 속성으로 제어) */
.gnb-mobile-menu {
    /* 768px 초과(데스크탑/태블릿)에서는 무조건 숨김 */
    display: none;
    position: fixed;
    inset: 0;
    z-index: 1; /* 같은 .gnb 컨텍스트에서 헤더(.gnb-container)보다 아래 */
    background: rgba(4, 6, 62, 1); /* #04063E */
    flex-direction: column;
    align-items: center;
    padding: 8rem 1.5rem 4rem; /* 상단(로고 영역) 여백 포함 */
    /* 메뉴 활성화 시에도 스크롤 불가(오버레이 내 스크롤 차단) */
    overflow: hidden;
    overscroll-behavior: none;
    touch-action: none;
    /* 디졸브(페이드) 기본 상태: 숨김 */
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: opacity 240ms ease, visibility 0s linear 240ms;
}

.gnb-mobile-menu-items {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
}

.gnb-mobile-menu .gnb-menu-item {
    font-size: clamp(2rem, 6vw, 4rem);
    line-height: 1.1;
    letter-spacing: -0.02em;
    color: rgba(255, 255, 255, 1);
    text-decoration: none;
    text-transform: uppercase;
    font-weight: 700;
}

.gnb-mobile-issue-btn {
    margin-top: 2.5rem;
    width: min(15rem, 90vw);
    background: rgba(73, 211, 255, 1);
    color: rgba(4, 6, 62, 1);
    font-size: clamp(1.75rem, 4.5vw, 2.5rem);
    line-height: 1.2;
    letter-spacing: -0.02em;
    padding: 1.25rem 2rem;
    border: none;
    border-radius: 9999px;
    cursor: pointer;
    font-family: 'LINE Seed Sans KR', sans-serif;
    font-weight: 700;
}

.gnb-mobile-lang {
    margin-top: auto;
    display: flex;
    gap: 2.5rem;
    align-items: flex-end;
    justify-content: center;
}

.gnb-mobile-lang .gnb-lang {
    font-size: 1.5rem;
}

/* 모바일 하단 플로팅 발급 버튼 (기본: 숨김, 모바일에서만 노출) */
.mobile-issue-btn {
    display: none;
    position: fixed;
    left: 50%;
    /* 디졸브/슬라이드 아웃을 위해 Y만 변수로 제어 */
    --mobile-issue-btn-y: 0px;
    transform: translateX(-50%) translateY(var(--mobile-issue-btn-y));
    bottom: 1.25rem;
    z-index: 1200;
    background: rgba(73, 211, 255, 1);
    color: rgba(4, 6, 62, 1);
    font-size: 1.125rem; /* 18px */
    line-height: 1.6;
    letter-spacing: -0.02em;
    padding: 0.75rem 1.25rem;
    border: none;
    border-radius: 9999px;
    cursor: pointer;
    font-family: 'LINE Seed Sans KR', sans-serif;
    font-weight: 700;
    white-space: nowrap;
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.35);
    transition: opacity 220ms ease, transform 220ms ease;
    opacity: 1;
}

/* 화이트페이퍼 섹션 진입 전: 자연스럽게 사라짐(디졸브) */
.mobile-issue-btn.is-faded {
    opacity: 0;
    pointer-events: none;
    --mobile-issue-btn-y: 10px;
}

/* iOS 하단 안전영역 대응 */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
    .mobile-issue-btn {
        bottom: calc(1.25rem + env(safe-area-inset-bottom));
    }
}

/* 반응형 디자인 */
@media (max-width: 1440px) {
    .gnb {
        width: 90vw;
    }
}

@media (max-width: 1024px) {
    /* 태블릿(1024px 이하) GNB 간격/패딩 조정 */
    .gnb-main {
        padding: 0.75rem 2rem; /* 좌우 패딩 2rem */
    }

    .gnb-menu {
        gap: 1.5rem; /* 메뉴 간 간격 1.5rem */
    }
    
    .gnb-menu-wrapper {
        gap: 1.5rem; /* 메뉴와 버튼 간격도 1.5rem */
    }
    
    .gnb-menu-item {
        font-size: 1rem;
    }
    
    .gnb-issue-btn {
        font-size: 1rem;
        padding: 0.5rem 0.875rem;
    }
    
    .gnb-logo-img {
        width: 6rem;
    }
}

@media (max-width: 768px) {
    .gnb {
        top: 1rem;
        left: 20px;
        transform: none;
        width: calc(100vw - 40px); /* 좌우 마진 20px */
        max-width: none;
    }
    
    .gnb-main {
        /* 모바일에서는 로고 + 햄버거(메뉴) 형태로 단순화 */
        width: 100%; /* 우측 빈 영역(사선처럼 보이는 공간) 제거 */
        padding: 0.75rem 1.5rem 0.75rem 2rem;
        flex-direction: row;
        justify-content: space-between;
        gap: 0.75rem;
    }
    
    .gnb-menu-wrapper {
        width: auto;
        justify-content: flex-end;
        gap: 0.75rem;
    }
    
    .gnb-logo {
        margin-bottom: 0;
    }
    
    .gnb-menu {
        display: none; /* 모바일에서는 햄버거 메뉴로 대체 */
    }
    
    .gnb-menu-item {
        font-size: 0.875rem;
    }
    
    .gnb-issue-btn {
        display: none; /* 모바일에서는 하단 플로팅 버튼으로 대체 */
    }

    .gnb-hamburger {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .gnb-sub {
        display: none; /* 모바일에서는 언어 선택도 햄버거 메뉴 안으로 취합 */
    }
    
    .gnb-lang {
        font-size: 0.875rem;
    }
    
    .gnb-logo-img {
        width: 5rem;
    }

    /* ✅ 모바일 실디바이스에서 GNB 배경이 파랗게 보이는 문제 방지:
       베이스 tint를 네이비(3,4,29) 대신 무채색(화이트)로 변경 */
    .gnb-main::before,
    .gnb-sub::before {
        /* ✅ 데스크탑처럼 리퀴드/광택 느낌은 유지하되, 블루 틴트만 다운 */
        background-color: rgba(18, 18, 20, 0.06); /* 중립 다크 틴트로 블루 과증폭 완화 */
        backdrop-filter: blur(8px) saturate(135%) url(#gnb-glass);
        -webkit-backdrop-filter: blur(8px) saturate(135%);
    }

    .mobile-issue-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }

    /* 모바일 메뉴 오픈 시: 로고/아이콘 위치는 그대로 유지 */
    .gnb.is-menu-open {
        pointer-events: auto;
        z-index: 1200; /* 오버레이보다 위에 로고/닫기 노출 */
    }

    .gnb.is-menu-open .gnb-main::before,
    .gnb.is-menu-open .gnb-main::after {
        display: none; /* 글래스 효과 적용된 GNB 배경만 숨김 */
    }

    /* 메뉴 오픈 시 플로팅 버튼은 겹침 방지로 숨김 */
    .gnb.is-menu-open + .mobile-issue-btn {
        display: none;
    }

    /* 768px 이하에서만 오버레이 메뉴를 사용 */
    .gnb-mobile-menu {
        display: flex;
    }

    /* 기본 상태는 비활성(숨김)
       - hidden은 UA stylesheet로 display:none이 걸리므로, 모바일에서는 display:flex로 강제 유지
       - 실제 숨김은 opacity/visibility로 처리해서 디졸브 애니메이션을 가능하게 함 */
    .gnb-mobile-menu[hidden] {
        display: flex !important;
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
    }

    /* 메뉴 활성화 시(디졸브 인) */
    .gnb.is-menu-open .gnb-mobile-menu {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
        transition: opacity 240ms ease, visibility 0s linear 0s;
    }
}

/* 플로팅 버튼 숨김 상태 (JS로 히어로 구간에서 제어) */
.mobile-issue-btn.is-hidden {
    display: none !important;
}

/* Hero Section */
.hero-section {
    width: 100%;
    height: 100vh;
    position: relative;
    overflow: hidden;
}

/* ✅ 히어로 하단 텍스트 가독성 보강(모든 해상도)
   - 과하지 않게 텍스트 영역 주변만 살짝 어둡게 */
.hero-section::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: min(32vh, 260px);
    background: linear-gradient(
        to top,
        rgba(0, 0, 0, 0.65),
        rgba(0, 0, 0, 0.0)
    );
    z-index: 5; /* 배경(0) 위, 텍스트(10) 아래 */
    pointer-events: none;
}

.hero-image {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 0;
    background: rgba(0, 0, 0, 1);
}

.hero-image img,
.hero-image video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    display: block;
}

/* 비디오 전용 스타일 */
.hero-image video {
    position: absolute;
    top: 0;
    left: 0;
}

.hero-content {
    position: absolute;
    bottom: 80px;
    left: 64px;
    right: 64px;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    z-index: 10;
}

.hero-text {
    max-width: 80%;
}

.hero-main-text {
    font-family: 'LINE Seed Sans KR', sans-serif;
    font-size: clamp(3rem, 5.5vw, 5.5rem);
    font-weight: 700;
    line-height: 1.3;
    letter-spacing: -0.02em;
    color: rgba(255, 255, 255, 1);
    margin-bottom: 0.75rem;
    overflow: hidden;
    position: relative;
    word-break: keep-all;
    word-wrap: break-word;
}

.hero-main-text .text-content {
    line-height: 1.3;
    overflow: hidden;
}

.hero-main-text .text-content .title-line {
    display: block;
    overflow: hidden;
    margin-bottom: 0.1em;
    position: relative;
}

.hero-main-text .text-content .title-line:last-child {
    margin-bottom: 0;
}

.hero-main-text .text-content .title-line .line-text {
    display: block;
    /* ✅ 초기 상태: 완전 비노출(리로드/탑 이동 시 "초기화 → 등장" 연출) */
    transform: translateY(120%);
    opacity: 0;
    transition: all 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
}

.hero-main-text.animate .text-content .title-line .line-text {
    transform: translateY(0);
    opacity: 1;
}

.hero-main-text.exit .text-content .title-line .line-text {
    transform: translateY(120%);
    opacity: 0;
}

.hero-main-text.enter .text-content .title-line .line-text {
    transform: translateY(100px);
    opacity: 0;
}

.hero-sub-text {
    font-family: 'LINE Seed Sans KR', sans-serif;
    font-size: clamp(1.125rem, 2.5vw, 1.75rem);
    font-weight: 400;
    line-height: 1.3;
    letter-spacing: -0.02em;
    color: rgba(255, 255, 255, 0.9);
    overflow: hidden;
    position: relative;
    word-break: keep-all;
    word-wrap: break-word;
}

.hero-sub-text .text-content {
    display: block;
    /* ✅ 초기 상태: 완전 비노출 */
    transform: translateY(120%);
    opacity: 0;
    transition: all 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
    transition-delay: 0.1s;
    overflow: hidden;
}

.hero-sub-text.animate .text-content {
    transform: translateY(0);
    opacity: 1;
}

.hero-sub-text.exit .text-content {
    transform: translateY(120%);
    opacity: 0;
}

.hero-sub-text.enter .text-content {
    transform: translateY(80px);
    opacity: 0;
}

.hero-scroll-indicator {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.3s ease, background 0.3s ease;
    animation: scrollBounce 2s ease-in-out infinite;
}

.hero-scroll-indicator:hover {
    transform: scale(1.1);
    background: rgba(255, 255, 255, 0.15);
}

.hero-scroll-indicator .scroll-arrow-img {
    width: 80px;
    height: 80px;
    object-fit: contain;
    display: block;
    pointer-events: none;
}

@keyframes scrollBounce {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-10px);
    }
}

/* Vision Section */
.vision-section {
    width: 100%;
    /* ✅ 슬로건(66~100) 이후 "유지되는 스크롤 구간"을 줄여서 Structure 등장 시점을 앞당김 */
    height: 400vh;
    position: relative;
    overflow: hidden;
    z-index: 2;
}

/* =========================================================
   ✅ Hero~Vision Full Paging (Swiper)
   - 히어로~비전 구간만 "한 번 스크롤 = 한 페이지"로 자연스럽게 동작
   - Structure 이후는 자연 스크롤(라이브러리 개입 없음)
========================================================= */

.hv-pager {
    width: 100%;
    height: 100vh;
    /* ✅ 슬로건을 구조가 "덮으면서" 올라오도록: 페이저는 스티키로 고정 */
    position: sticky;
    top: 0;
    overflow: hidden;
    /* ✅ 다른 섹션과 겹침 방지 */
    z-index: 2;
    /* ✅ 스냅/관성에서 과도한 바운스(떨림) 방지 */
    overscroll-behavior: contain;
}

.hv-pager .swiper-wrapper,
.hv-pager .swiper-slide {
    width: 100%;
    height: 100%;
}

/* 비전 배경 레이어(비디오/이미지) */
.hv-pager-bg {
    position: absolute;
    inset: 0;
    z-index: 0;
    pointer-events: none;
}

/* Hero 슬라이드에서는 비전 배경이 보이지 않도록 */
.hv-pager.hv-state-hero .hv-pager-bg {
    opacity: 0;
}

.hv-pager:not(.hv-state-hero) .hv-pager-bg {
    opacity: 1;
}

/* 비전 비디오(기본) */
.hv-pager .vision-video-container {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    opacity: 1;
    transition: opacity 0.9s ease;
}

.hv-pager .vision-video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
}

/* 슬로건에서 이미지 디졸브 */
.hv-pager .vision-image-container {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 0.9s ease;
}

.hv-pager .vision-image-container .vision-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
}

.hv-pager.hv-show-image .vision-video-container {
    opacity: 0;
}

.hv-pager.hv-show-image .vision-image-container {
    opacity: 1;
}

/* 슬라이드 내용은 배경 위로 */
.hv-pager .hero-section,
.hv-pager .vision-slide {
    position: relative;
    z-index: 1;
    height: 100%;
}

/* 비전 텍스트 배치(슬라이드 내부 absolute) */
.hv-pager .vision-text-1,
.hv-pager .vision-text-2,
.hv-pager .vision-text-3 {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 1600px;
    text-align: center;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.25s ease;
}

.hv-pager .vision-text-1.active,
.hv-pager .vision-text-2.active,
.hv-pager .vision-text-3.active {
    opacity: 1;
}

/* 모바일(768px 이하) 비전 비디오 크롭/정렬 규칙: Swiper 구간에도 동일 적용 */
@media (max-width: 768px) {
    .hv-pager .vision-video {
        width: auto;
        height: 100%;
        min-width: 100%;
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        object-fit: cover;
        object-position: center;
        filter: brightness(1.12) contrast(1.05) saturate(1.03);
    }
}

@media (max-width: 768px) and (min-aspect-ratio: 3/4) {
    .hv-pager .vision-video {
        width: 100%;
        height: 100%;
        min-width: 0;
        left: 0;
        top: 0;
        transform: none;
        object-fit: cover;
        object-position: center;
    }
}

.vision-video-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    z-index: 1;
    overflow: hidden;
    opacity: 0;
    transition: opacity 0.5s ease;
}

.vision-video-container.active {
    position: fixed;
    opacity: 1;
}

.vision-video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    opacity: 1;
    transition: opacity 1s ease;
}

/* 모바일(768px 이하) 비전 비디오 크롭/정렬 규칙 */
@media (max-width: 768px) {
    /* 기본: 세로 100% 유지 + 가로 센터 정렬(좌우 크롭) */
    .vision-video-container.active .vision-video {
        width: auto;
        height: 100%;
        min-width: 100%;
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        object-fit: cover;
        object-position: center;
        /* ✅ 모바일에서 비전 글로벌 영상이 유독 어둡게 보이는 현상 보정 */
        filter: brightness(1.12) contrast(1.05) saturate(1.03);
    }
}

/* 특수 케이스: 가로로 긴(폴더블/가로모드) 화면에서는 가로 100% + 세로 센터 정렬 */
@media (max-width: 768px) and (min-aspect-ratio: 3/4) {
    .vision-video-container.active .vision-video {
        /* 폴더블(가로로 긴 비율)에서도 하단 여백(레터박스) 없이 꽉 채우기 */
        width: 100%;
        height: 100%;
        min-width: 0;
        left: 0;
        top: 0;
        transform: none;
        object-fit: cover;
        object-position: center;
    }
}

.vision-video.hidden {
    opacity: 0;
}

.vision-image-container {
    /* ✅ 패럴럭스 영역에서 분리: 비전 섹션의 "끝"에 배치하여 end 시점부터 자연스럽게 올라오도록 */
    position: absolute;
    top: auto;
    bottom: 0vh;
    left: 0;
    width: 100%;
    height: 100vh;
    z-index: 2;
    overflow: hidden;
    /* ✅ 66~100%에서 비디오→이미지 디졸브를 위해 기본은 숨김 */
    opacity: 0;
    transition: opacity 0.8s ease;
    pointer-events: none;
}

.vision-image-container.active {
    /* ✅ 66~100% 구간에서는 배경처럼 고정(비디오 위를 덮는 구조) */
    position: fixed;
    top: 0;
    left: 0;
    bottom: auto;
    opacity: 1;
}

/* (정리) .visible은 slide-in 시스템(.slide-in.visible)로 제어 */

.vision-image-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
}

.vision-content {
    position: relative;
    z-index: 2;
    /* ✅ 위 .vision-section 높이와 반드시 동일 */
    height: 400vh;
}

/* Vision 첫 문구 앵커 (보이지 않게) */
.vision-intro-anchor {
    position: absolute;
    top: 0;
    left: 0;
    width: 1px;
    height: 1px;
    visibility: hidden;
    pointer-events: none;
}

.vision-text-1,
.vision-text-2 {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 1600px;
    text-align: center;
    z-index: 3;
    pointer-events: none;
    overflow: hidden;
    opacity: 0;
    transition: opacity 0.3s ease;
}

/* ✅ 3번 문구는 패럴럭스(스크롤 제어)에서 분리: 아웃트로 이미지 위에서 슬라이드-인으로 등장 */
.vision-image-container .vision-text-3 {
    position: absolute;
    left: 50%;
    top: 50%;
    width: 90%;
    max-width: 1600px;
    text-align: center;
    z-index: 3;
    pointer-events: none;
    overflow: hidden;
    /* ✅ '텍스트 박스(vision-text-3)만' 슬라이드-인:
       - 중앙 정렬(transform translate) + slide-in(translateY) 충돌을 피하기 위해 전용 transform 사용 */
    opacity: 0;
    transform: translate(-50%, -50%) translateY(100px);
    transition: opacity 0.8s ease, transform 0.8s ease;
}

/* ✅ 패럴럭스 66~100%에서 3번 텍스트를 active로 직접 제어 */
.vision-image-container .vision-text-3.active {
    opacity: 1;
    transform: translate(-50%, -50%) translateY(0);
}

/* ✅ 텍스트 박스(vision-text-3)만 visible 시점에 올라오며 노출 */
.vision-image-container .vision-text-3.slide-in.visible {
    opacity: 1;
    transform: translate(-50%, -50%) translateY(0);
}

/* ✅ (중요) title-3가 다른 로직에 의해 미리 animate가 붙더라도,
   아웃트로 컨테이너가 visible 되기 전에는 라인이 '이미 다 노출'되지 않도록 가드 */
.vision-image-container .vision-title-3.animate .text-content .title-line .line-text {
    transform: translateY(100px);
    opacity: 0;
}

/* ✅ '텍스트 박스'가 visible/active 시점에만 실제로 라인이 올라오며 노출 */
.vision-image-container .vision-text-3.slide-in.visible .vision-title-3.animate .text-content .title-line .line-text {
    transform: translateY(0);
    opacity: 1;
}

.vision-image-container .vision-text-3.active .vision-title-3.animate .text-content .title-line .line-text {
    transform: translateY(0);
    opacity: 1;
}

.vision-title-1,
.vision-title-2,
.vision-title-3 {
    font-family: 'LINE Seed Sans KR', sans-serif;
    font-size: clamp(1.5rem, 7vw, 4rem);
    font-weight: 700;
    line-height: 1.3;
    letter-spacing: -0.02em;
    color: rgba(255, 255, 255, 1);
    overflow: hidden;
    position: relative;
    word-break: keep-all;
    word-wrap: break-word;
}

.vision-title-1 .text-content,
.vision-title-2 .text-content,
.vision-title-3 .text-content {
    line-height: 1.3;
    overflow: hidden;
}

.vision-title-1 .text-content .title-line,
.vision-title-2 .text-content .title-line,
.vision-title-3 .text-content .title-line {
    display: block;
    overflow: hidden;
    margin-bottom: 0.1em;
    position: relative;
}

.vision-title-1 .text-content .title-line:last-child,
.vision-title-2 .text-content .title-line:last-child,
.vision-title-3 .text-content .title-line:last-child {
    margin-bottom: 0;
}

.vision-title-1 .text-content .title-line .line-text,
.vision-title-2 .text-content .title-line .line-text,
.vision-title-3 .text-content .title-line .line-text {
    display: block;
    transform: translateY(100px);
    opacity: 0;
    transition: all 0.8s cubic-bezier(0.4, 0.2, 0.2, 1);
}

/* 등장 모션: 바텀->탑 (히어로와 동일) */
.vision-title-1.animate .text-content .title-line .line-text,
.vision-title-2.animate .text-content .title-line .line-text,
.vision-title-3.animate .text-content .title-line .line-text {
    transform: translateY(0);
    opacity: 1;
}

/* 사라짐 모션: 탑->바텀 (반대) */
.vision-title-1.exit .text-content .title-line .line-text,
.vision-title-2.exit .text-content .title-line .line-text,
.vision-title-3.exit .text-content .title-line .line-text {
    transform: translateY(100px);
    opacity: 0;
}

/* 진입 준비 상태: 바텀에 숨김 */
.vision-title-1.enter .text-content .title-line .line-text,
.vision-title-2.enter .text-content .title-line .line-text,
.vision-title-3.enter .text-content .title-line .line-text {
    transform: translateY(100px);
    opacity: 0;
}

/* 텍스트 컨테이너 활성화 상태 */
.vision-text-1.active,
.vision-text-2.active,
.vision-text-3.active {
    opacity: 1;
}

/* (정리) 3번 타이틀 라인 노출은 위의 animate+visible 가드 규칙으로 통일 */

/* Structure Section부터 Footer까지 통합 배경 */
.structure-to-footer-wrapper {
    width: 100%;
    background: linear-gradient(180deg, #000121 0%, #1C175D 50%, #2f2f76 75%, #311f83 100%);
    position: relative;
    z-index: 10;
}

/* Structure Section */
.structure-section {
    width: 100%;
    min-height: 100vh;
    background: transparent; /* 통합 배경 사용 */
    padding: 18vh 5vw;
    position: relative;
    z-index: 10;
}

.structure-container {
    /* 1480px 뷰포트까지는 1440px 유지(좌우 20px),
       그 이하부터는 화면에 맞춰 자연스럽게 축소 */
    width: calc(100% - 40px);
    max-width: 1440px;
    margin: 0 auto;
}

/* 공통 섹션 타이틀 및 서브타이틀 (Structure 기준) */
.structure-title,
.roadmap-title,
.whitepaper-title {
    font-size: clamp(1.5rem, 5vw, 3rem);
    font-weight: 700;
    color: rgba(255, 255, 255, 1);
    margin-bottom: 1.5rem;
    text-align: center;
}

.structure-subtitle,
.roadmap-subtitle,
.whitepaper-description {
    font-size: clamp(1rem, 2.5vw, 1.75rem);
    font-weight: 400;
    color: rgba(185, 212, 255, 1);
    text-align: center;
    margin-bottom: 13vh;
}

/* 화이트페이퍼 설명은 visible 상태에서만 하단 마진을 별도로(요구사항: 6vh) */
.whitepaper-description.slide-in.visible {
    margin-bottom: 6vh;
}

/* Web 3.0 Cycle Graphic */
.cycle-container {
    position: relative;
    /* 기준(1024px 이상) 레이아웃은 유지하면서, 작은 해상도에서는 비율 유지로 축소 */
    --cycle-size: min(640px, 100%);
    --cycle-node-size: calc(var(--cycle-size) * 0.5); /* 640px 기준 160px */
    --cycle-nft-top: calc(var(--cycle-size) * -0.078125); /* -50/640 */
    --cycle-node-bottom: calc(var(--cycle-size) * 0.109375); /* 70/640 */

    width: var(--cycle-size);
    aspect-ratio: 1 / 1;
    height: auto;
    margin: 0 auto; /* 순환 이미지와 텍스트 간 마진 0 */
    display: flex;
    justify-content: center;
    align-items: center;
    /* 패딩 삭제 */
}

/* 중앙 텍스트 (Web 3.0) */
.cycle-container .center-text {
    position: absolute;
    font-size: clamp(1.6rem, 7vw, 3.75rem);
    font-weight: 700;
    color: rgba(255, 255, 255, 1);
    z-index: 10;
}

/* 아이콘 노드 공통 스타일 */
.cycle-container .node {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    width: var(--cycle-node-size);
    text-align: center;
    z-index: 5;
}

/* 이미지 스타일 (핑크색 글로우 효과 추가) */
.cycle-container .node img {
    width: var(--cycle-node-size);
    height: var(--cycle-node-size);
    object-fit: contain;
    filter: drop-shadow(0 0 24px rgba(216, 62, 216, 0.5)); /* 핑크색 글로우 효과 */
    animation: float 3s ease-in-out infinite; /* 둥둥 떠다니는 애니메이션 */
}

/* 텍스트 라벨 스타일 */
.cycle-container .node span {
    font-size: clamp(1rem, 3vw, 1.75rem);
    font-weight: 700;
    color: rgba(255, 255, 255, 1);
    text-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.3);
}

/* 각 노드의 위치 잡기 (삼각형 구도, 화살표 헤드가 보이도록 조정) */
/* Top: NFT (화살표 중앙에 이미지가 위치하도록 위로 이동) */
/* 20도와 100도의 중간인 60도 위치에 이미지가 오도록 조정 */
.cycle-container .node.nft {
    top: var(--cycle-nft-top); /* 원래(-50px@640) 비율 유지 */
    left: 50%;
    transform: translateX(-50%);
    flex-direction: column-reverse; /* 텍스트가 위, 이미지가 아래 */
}


/* NFT 노드의 이미지 margin 조정 (텍스트가 위에 있으므로) */
.cycle-container .node.nft img {
    margin-bottom: 0; /* 기본 margin 제거 */
}

/* Bottom Left: TOKEN */
.cycle-container .node.token {
    bottom: var(--cycle-node-bottom);
    left: -14%;
}

/* 토큰 이미지만 좌우 반전 */
.cycle-container .node.token img {
    transform: scaleX(-1);
}

/* Bottom Right: DAO */
.cycle-container .node.dao {
    bottom: var(--cycle-node-bottom);
    right: -14%;
}

/* SVG 화살표 배경 (노드 뒤에 배치) */
.cycle-container .arrows-svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1; /* 노드(z-index: 5) 뒤에 배치하여 화살표가 보이도록 */
}

/* SVG 선 스타일 */
.cycle-container .arrow-path {
    fill: none;
    stroke: #ffffff; /* 화살표 라인 색상 */
    stroke-width: 2;
    /* ✅ 모바일 축소 시에도 선 두께가 죽지 않게 유지 */
    vector-effect: non-scaling-stroke;
    stroke-dasharray: 3, 6; /* 점선 간격 */
    stroke-linecap: round;
    stroke-linejoin: round;
    animation: dashFlow 30s linear infinite; /* 흐르는 애니메이션 */
    /* 화살표 헤드가 라인 끝점에 정확히 위치하도록 오프셋 조정 */
    stroke-dashoffset: 2.5; /* 헤드 중앙부가 라인 끝점에 오도록 조정 */
    /* 3겹 라이팅 효과로 자연스럽고 밝게 */
    filter: 
        drop-shadow(0 0 3px rgba(114, 255, 255, 1))
        drop-shadow(0 0 6px rgba(114, 255, 255, 0.8))
        drop-shadow(0 0 10px rgba(114, 255, 255, 0.6))
        drop-shadow(0 0 15px rgba(114, 255, 255, 0.4));
}

@keyframes dashFlow {
    to {
        stroke-dashoffset: -1000;
    }
}

.structure-cards {
    display: grid;
    /* 데스크톱: 3개 카드가 자동 너비로 균등 분할, 40px 간격 유지 */
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 2.5%; /* 40px */
    margin-top: 8vh;
    width: 100%;
}

.structure-card {
    position: relative;
    width: 100%; /* 자동 너비 조절 */
    max-width: 100%;
    height: 560px;
    /* 기본 fallback (구형 브라우저): 40px */
    --structure-card-radius: 40px;
    --structure-card-outline: 1.2px; /* 그라데이션 아웃라인 두께 */
    /* 아웃라인(링) 내부 콘텐츠가 동일 곡률로 보이도록, 내부 레이어는 radius를 살짝 줄여서 맞춤 */
    --structure-card-inner-radius: max(0px, calc(var(--structure-card-radius) - var(--structure-card-outline)));

    border-radius: var(--structure-card-radius);
    /* ✅ 코너 틈(라인/그라데이션 R값 차이로 보이는 들뜸) 방지:
       - 링(::after)을 카드 배경 "위"로 올리기 위해 카드 자체를 클리핑/스태킹 컨텍스트로 고정 */
    overflow: hidden;
    isolation: isolate;
    /* ✅ 외곽 라인(특히 상/하단 코너) 가시성 보강:
       - overflow: hidden으로 외부 글로우가 잘리더라도 얇은 인셋 스트로크가 남게 함 */
    box-shadow:
        inset 0 0 0 1px rgb(120, 173, 188),
        0 15px 35px rgba(0, 0, 0, 0.5);
    
    /* 배경 그라데이션 (radial-gradient: 중앙 #010221 -> 외각 #00AEFF) */
    background: radial-gradient(circle at 50% 0%, #010221 50%, #003C78 77%,#0ddbff 100%);
    
    /* 3D 효과를 위한 perspective */
    transform-style: preserve-3d;
    perspective: 1000px;
    transition: transform 0.1s ease-out; /* 부드러운 틸트 효과 */
    will-change: transform; /* 성능 최적화 */
    
    /* 카드 전체는 마우스 이벤트 허용 → tilt 정상 동작 */
    pointer-events: auto;
}

/* 개선된 2번 방식:
   카드 세로가 길어져도 radius 모양이 틀어지지 않도록,
   카드 "가로(inline-size)" 기준으로만 radius를 스케일링 */
@supports (container-type: inline-size) {
    .structure-card {
        container-type: inline-size;
        /* 카드 "가로(inline-size)" 기준으로만 radius를 스케일링 (세로 영향 X) */
        --structure-card-radius: clamp(20px, 8cqi, 40px); /* 8cqi = 카드 가로의 8% */
        /* outline도 카드 가로 기준으로 같이 스케일링 (radius 줄어들 때 모양 깨짐 방지) */
        --structure-card-outline: clamp(1px, 0.25cqi, 1.2px);
        --structure-card-inner-radius: max(0px, calc(var(--structure-card-radius) - var(--structure-card-outline)));
    }

    .structure-card .card-content {
        /* ✅ 내부 콘텐츠 코너는 항상 inner-radius로 일치(라인/그라데이션 코너 들뜸/소실 방지) */
        border-radius: var(--structure-card-inner-radius);
    }

    .structure-card::after {
        border-radius: var(--structure-card-radius);
    }

    .structure-card::before {
        border-radius: var(--structure-card-radius);
    }

    .structure-card .noise-layer {
        border-radius: var(--structure-card-radius);
    }
}

/* 틸트 효과가 적용된 카드 */
.structure-card[data-tilt] {
    cursor: grab; /* hover 즉시 반응 + 인터랙션 느낌 */
}

.structure-card[data-tilt]:active {
    cursor: grabbing; /* 드래그 중 커서 */
}

/* 카드 내부 콘텐츠 overflow 처리 */
.structure-card .card-content {
    overflow: hidden;
    border-radius: var(--structure-card-inner-radius);
}

/* 그라데이션 아웃라인 (inside, 두께 1.2px) */
.structure-card::after {
    content: '';
    position: absolute;
    inset: 0; /* inside로 적용 */
    border-radius: var(--structure-card-radius);
    background: conic-gradient(
        from 45deg at 0% 0%,
        #B4EFFF 0%,
        #A0DCFF 11.11%,
        #8CC9FF 22.22%,
        #78B6FF 33.33%,
        #64A3FF 44.44%,
        #5090FF 55.55%,
        #3C7DFF 66.66%,
        #286AFF 77.77%,
        #1A4DB3 88.88%,
        #17184B 100%
    );
    /* ✅ 링을 카드 배경 위로 올려 코너 들뜸 제거 */
    z-index: 4;
    pointer-events: none;
    /* mask를 사용하여 inside 보더만 표시 (두께 1.2px) */
    -webkit-mask: 
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask: 
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
    mask-composite: exclude;
    padding: var(--structure-card-outline); /* 두께 */
    box-sizing: border-box; /* padding으로 인한 서브픽셀 들뜸 방지 */
}

/* 배경 도트 패턴 - 도트 그룹 전체에 그라데이션 적용 (개별 도트가 아닌 영역 전체) */
.structure-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    /* 도트 그룹 전체 영역에 그라데이션 적용 */
    background: linear-gradient(
        180deg,
        rgba(15, 135, 255, 0.9) 0%,      /* 상단: 밝은 블루 */
        rgba(15, 135, 255, 0.5) 20%,    /* 상단-중간 */
        rgba(15, 135, 255, 0.1) 60%,    /* 중간-하단 */
        rgba(15, 135, 255, 0.0) 100%       /* 하단: 어두운 네이비 */
    );
    /* 도트 패턴을 mask로 사용하여 그라데이션에서 도트 부분만 표시 */
    -webkit-mask-image: radial-gradient(rgba(0, 0, 0, 1) 1.5px, transparent 1.5px);
    -webkit-mask-size: 16px 16px; /* 도트 간격 - 이 값을 조정하면 도트 간 간격 변경 (작을수록 촘촘함) */
    mask-image: radial-gradient(rgba(0, 0, 0, 1) 1.5px, transparent 1.5px);
    mask-size: 16px 16px;
    z-index: 1;
    pointer-events: none;
    /* 도트 레이어는 카드 외곽 radius와 동일하게 맞춰야 코너가 비지 않음 */
    border-radius: var(--structure-card-radius);
}


/* 하단 그라데이션 효과 삭제 - 카드 자체에 radial-gradient 적용됨 */
.structure-card .glow-effect {
    display: none; /* 하단 그라데이션 삭제 */
}

/* 노이즈 효과 레이어 (Opacity: 20%, Density: 100%, Size: 0.5) */
.structure-card .noise-layer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.5' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    opacity: 0.2; /* Opacity: 20% */
    z-index: 3;
    pointer-events: none;
    /* 노이즈 레이어도 카드 외곽 radius와 동일하게 맞춰야 코너가 비지 않음 */
    border-radius: var(--structure-card-radius);
    mix-blend-mode: overlay; /* 노이즈가 자연스럽게 블렌딩 */
}

/* 콘텐츠 래퍼 (텍스트, 이미지 정렬) */
.structure-card .card-content {
    position: relative;
    z-index: 10;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    text-align: center;
    padding: 80px 40px 80px 40px;
    
    /* 카드 내부 콘텐츠는 클릭 불가 (기존 동작 유지) */
    pointer-events: none;
    color: white;
}

/* 3D 크리스탈 이미지 */
.structure-card .crystal-img {
    width: 80%;
    max-width: 220px;
    height: auto;
    margin-bottom: 40px;
    /* 글로우 효과 제거 (순환 이미지 글로우는 유지) */
    /* 둥둥 효과 제거 */
}

/* 둥둥 떠다니는 애니메이션 (순환 이미지용) */
@keyframes float {
    0%, 100% { 
        transform: translateY(0); 
    }
    50% { 
        transform: translateY(-10px); 
    }
}

/* 카드 텍스트 그룹 - 공통 스타일 */
.card-text-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
}

.card-text-group h3 {
    font-size: clamp(1.5rem, 4vw, 2.25rem);
    font-weight: 700;
    margin-bottom: 1rem;
    letter-spacing: -0.03125rem;
    color: rgba(255, 255, 255, 1);
}

.card-text-group p {
    font-size: clamp(1.125rem, 3vw, 1.25rem);
    font-weight: 400;
    line-height: 1.4;
    letter-spacing: -0.02em;
    color: rgba(255, 255, 255, 0.85);
    word-break: keep-all;
    margin: 0;
}

/* NFT Section */
.nft-section {
    width: 100%;
    min-height: 100vh;
    background: transparent; /* 통합 배경 사용 */
    overflow-x: hidden; /* 좌측 카드가 잘리지 않도록 */
    /* NFT 섹션 패딩은 변수로 공통/반응형 관리 */
    --nft-section-padding-top: 10vh;
    --nft-section-padding-x: 5vw;
    --nft-section-padding-bottom-extra: 120px;
    padding:
        var(--nft-section-padding-top)
        var(--nft-section-padding-x)
        calc(var(--nft-section-padding-top) + var(--nft-section-padding-bottom-extra))
        var(--nft-section-padding-x);
    position: relative;
    z-index: 10;
    /* prev/next 카드가 양옆으로 "살짝 보이도록" 섹션 클리핑 제거
       (가로 오버플로우는 html/body overflow-x: clip로 제어) */
    overflow: visible;
}

/* NFT 섹션 브레이크포인트별 값은 여기서만 조정 */
@media (max-width: 1024px) {
    .nft-section {
        /* 필요 시 값만 변경 (레이아웃/기능 유지) */
        --nft-section-padding-top: 10vh;
        --nft-section-padding-x: 5vw;
        --nft-section-padding-bottom-extra: 120px;
    }
}

@media (max-width: 768px) {
    .nft-section {
        /* 필요 시 값만 변경 (레이아웃/기능 유지) */
        --nft-section-padding-top: 10vh;
        --nft-section-padding-x: 5vw;
        --nft-section-padding-bottom-extra: 120px;
    }
}

.nft-container {
    /* 1480px 뷰포트까지는 1440px 유지(좌우 20px),
       그 이하부터는 화면에 맞춰 자연스럽게 축소 */
    width: calc(100% - 40px); /* calc 연산자 앞뒤 공백 필수 */
    max-width: 1440px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* NFT 캐러셀 래퍼 */
.nft-carousel-wrapper {
    width: 100%;
    position: relative;
    margin-bottom: 2rem;
    overflow: visible; /* 컨테이너 밖 카드가 보이도록 */
    display: flex;
    justify-content: center; /* 활성 카드 중앙 정렬 */
    z-index: 10; /* 아래 섹션과 레이어 우선순위 명시 */
}

.nft-carousel {
    position: relative;
    width: 100%;
    max-width: 1440px;
    /* NFT 캐러셀 높이(브레이크포인트별 변수로 관리) */
    --nft-carousel-height: 640px;
    /* 1025px 이상에서 비율 축소를 위해 aspect-ratio를 켤 수 있도록 변수화 */
    --nft-carousel-aspect: auto;
    height: var(--nft-carousel-height);
    aspect-ratio: var(--nft-carousel-aspect, auto); /* 값 누락 시 안전장치 */
    margin: 0 auto;
    overflow: visible;
}

/* ✅ NFT 캐러셀 3D 회전(레퍼런스 느낌) — 769px 이상만 적용
   - 요구사항: 좌우 전환 시 3D 회전 느낌, 비활성 카드는 "뒤"에 고정(큰 위치 이동 없이)
   - 모바일(768↓)은 기존 레이아웃/동작 유지 */
/* 3D 모드 비활성화 - 2D 모드만 사용 */
/*
@media (min-width: 769px) {
    .nft-carousel {
        perspective: 1200px;
        transform-style: preserve-3d;
    }

    .nft-card {
        transform-style: preserve-3d;
        backface-visibility: hidden;
        will-change: transform, opacity;
    }

    중앙 활성 카드
    .nft-card.active {
        transform: translate(-50%, -50%) translateZ(0) rotateY(0deg) scale(1);
        opacity: 1;
        z-index: 3;
    }

    비활성 카드(뒤): 좌우 이동 최소화 + 3D 회전만으로 방향감
    .nft-card.prev-prev {
        transform: translate(-50%, -50%) translateZ(-200px) rotateY(35deg) scale(0.9);
        opacity: 0.2;
        z-index: 0;
    }

    .nft-card.prev {
        transform: translate(-50%, -50%) translateZ(-140px) rotateY(26deg) scale(0.95);
        opacity: 0.22;
        z-index: 1;
    }

    .nft-card.next {
        transform: translate(-50%, -50%) translateZ(-140px) rotateY(-26deg) scale(0.95);
        opacity: 0.22;
        z-index: 1;
    }

    .nft-card.next-next {
        transform: translate(-50%, -50%) translateZ(-200px) rotateY(-35deg) scale(0.9);
        opacity: 0.2;
        z-index: 0;
    }

    .nft-card.hidden {
        transform: translate(-50%, -50%) translateZ(-260px) rotateY(0deg) scale(0.9);
        opacity: 0;
        z-index: 0;
        transition: opacity 0.55s ease, z-index 0s;
    }
    다음 버튼 클릭 시: hidden(중앙)에서 hidden-right(오른쪽)로 전환되는 경우 - 방지 - 3D 모드
    .nft-carousel.direction-next .nft-card.hidden {
        transition: opacity 0.55s ease, z-index 0s;
    }

    숨김 카드 - 왼쪽에 배치 (prev로 전환될 카드, 3D)
    .nft-card.hidden-left {
        transform: translate(-50%, -50%) translateZ(-140px) rotateY(26deg) scale(0.95);
        opacity: 0;
        z-index: 0;
        transition: opacity 0.55s ease, z-index 0s;
    }

    숨김 카드 - 오른쪽에 배치 (next로 전환될 카드, 3D)
    .nft-card.hidden-right {
        transform: translate(-50%, -50%) translateZ(-140px) rotateY(-26deg) scale(0.95);
        opacity: 0;
        z-index: 0;
        transition: opacity 0.55s ease, z-index 0s;
    }

    좀 더 부드러운 3D 전환 - 기본
    .nft-card,
    .nft-card.active,
    .nft-card.prev,
    .nft-card.next,
    .nft-card.hidden,
    .nft-card.hidden-left,
    .nft-card.hidden-right {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
    
    prev-prev와 next-next는 transform transition 제거 (같은 카드가 좌우로 이동할 때 모션 방지)
    .nft-card.prev-prev,
    .nft-card.next-next {
        transition:
            opacity 0.55s ease,
            z-index 0s;
    }
    
    이전 버튼 클릭 시: 모든 카드가 왼쪽에서 오른쪽으로 이동 (→) - 3D 모드
    .nft-carousel.direction-prev .nft-card.prev {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
    .nft-carousel.direction-prev .nft-card.active {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
    .nft-carousel.direction-prev .nft-card.next {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
    .nft-carousel.direction-prev .nft-card.prev-prev {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
    .nft-carousel.direction-prev .nft-card.next-next {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
    이전 버튼 클릭 시: 오른쪽에서 왼쪽으로 이동하는 모션 방지 - 3D 모드
    .nft-carousel.direction-prev .nft-card.hidden-left {
        transition:
            opacity 0.55s ease,
            z-index 0s;
    }
    .nft-carousel.direction-prev .nft-card.hidden-right {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
    
    다음 버튼 클릭 시: 모든 카드가 오른쪽에서 왼쪽으로 이동 (←) - 3D 모드
    .nft-carousel.direction-next .nft-card.next {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
    다음 버튼 클릭 시: prev, hidden(중앙), 또는 active(중앙)에서 next로 전환되는 경우 (왼쪽/중앙에서 오른쪽) - 방지 - 3D 모드
    .nft-carousel.direction-next .nft-card.next.no-transform-transition {
        transition:
            opacity 0.55s ease,
            z-index 0s;
    }
    .nft-carousel.direction-next .nft-card.active {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
    .nft-carousel.direction-next .nft-card.prev {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
    .nft-carousel.direction-next .nft-card.next-next {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
    다음 버튼 클릭 시: prev, prev-prev, hidden-left, hidden(중앙), 또는 active(중앙)에서 next-next로 전환되는 경우 (왼쪽/중앙에서 오른쪽) - 방지 - 3D 모드
    .nft-carousel.direction-next .nft-card.next-next.no-transform-transition {
        transition:
            opacity 0.55s ease,
            z-index 0s;
    }
    .nft-carousel.direction-next .nft-card.prev-prev {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
    다음 버튼 클릭 시: 왼쪽에서 오른쪽으로 이동하는 모션 방지 - 3D 모드
    .nft-carousel.direction-next .nft-card.hidden-right {
        transition:
            opacity 0.55s ease,
            z-index 0s;
    }
    .nft-carousel.direction-next .nft-card.hidden-right.no-transform-transition {
        transition:
            opacity 0.55s ease,
            z-index 0s;
    }
    .nft-carousel.direction-next .nft-card.hidden-left {
        transition:
            transform 0.55s cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 0.55s ease,
            z-index 0s;
    }
}
*/

/* NFT 카드 공통 스타일 - 기본 상태: 중앙, 90%, 완전 투명 */
.nft-card {
    /* 기본 fallback (구형 브라우저): 기존 5rem 유지 */
    --nft-card-radius: 5rem;
    /* NFT 카드 좌/우 컬럼 공통 변수 (브레이크포인트별로 오버라이드 가능) */
    --nft-active-col-width: auto; /* 기본(데스크탑): auto */
    --nft-active-col-flex: 1;     /* 기본(데스크탑): flex: 1 */
    /* NFT 카드 컬럼(좌/우) 디자인 값도 변수로 통일 (브레이크포인트별 관리 용이) */
    /* 1024px 이상: 뷰포트에 따라 좌측 컬럼 상하 패딩이 같이 변하도록 clamp 적용 */
    --nft-left-padding: clamp(3.5rem, 6vw, 6.25rem) 0; /* min 56px ~ max 100px */
    --nft-left-min-width: 240px;
    --nft-left-max-width: 540px;
    --nft-right-min-width: 240px;
    --nft-right-max-width: 640px;
    --nft-right-width: auto;
    --nft-right-flex: 1;
    --nft-right-flex-shrink: 0;
    /* 우측(이미지) 컬럼 여백도 변수로 통일 (세로형에서 아래 간격 주기 위함) */
    --nft-right-col-margin-top: 0;    /* 기본(데스크탑): 0 */
    --nft-right-col-margin-bottom: 0; /* 기본(데스크탑): 0 */
    /* NFT 좌측 컬럼 레이아웃 변수 (브레이크포인트별 관리) */
    --nft-left-direction: column;
    --nft-left-align: stretch;
    --nft-left-justify: space-between;
    --nft-left-flex: 1;
    --nft-left-flex-shrink: 0;
    --nft-left-height: 100%;
    --nft-left-width: auto;
    --nft-left-gap: 0;
    /* NFT 콘텐츠/이미지 영역 높이는 변수로 관리 (세로형에서 auto로 전환) */
    --nft-content-height: 100%;
    --nft-content-align-items: center;
    --nft-active-content-justify: space-between;
    --nft-image-area-height: 100%;
    --nft-image-area-min-height: 100%;
    /* NFT 이미지 자체 스타일도 변수화 (브레이크포인트별 디자인 수정 용이) */
    --nft-image-width: 80%;
    --nft-image-max-width: none;
    --nft-image-height: auto;
    --nft-image-object-fit: contain;
    /* NFT 텍스트 그룹 정렬/폭도 변수화 (브레이크포인트별 디자인 수정 용이) */
    --nft-text-align: left;
    --nft-text-group-align: flex-start;
    /* 텍스트 그룹은 좌측 컬럼 폭을 100%로 채우도록 */
    --nft-text-group-max-width: 100%;
    --nft-title-min-width: fit-content;
    --nft-subtitle-min-width: fit-content;
    /* NFT 카드 콘텐츠 레이아웃 변수 */
    /* 1024px 이상: 뷰포트가 줄어들면 좌측 패딩도 같이 감소 (active 카드 기준 UX 개선) */
    --nft-content-padding: 0 0 0 clamp(4rem, 8.5vw, 7rem); /* min 64px ~ max 120px */
    --nft-content-gap: 2rem;
    --nft-text-group-gap: 1rem;
    --nft-title-size: clamp(2rem, 3.5vw, 3rem);
    --nft-subtitle-size: clamp(1rem, 1.5vw, 1.5rem);
    /* prev/next 카드 노출/모션 값도 변수로 통일 (브레이크포인트별 관리) */
    --nft-side-card-scale: 0.9;
    --nft-prev-prev-translate-x: -250%;  /* 왼쪽 2번째 카드 위치 */
    --nft-prev-translate-x: -150%;  /* 왼쪽 1번째 카드 위치 */
    --nft-next-translate-x: 50%;  /* 오른쪽 1번째 카드 위치 */
    --nft-next-next-translate-x: 150%;  /* 오른쪽 2번째 카드 위치 */
    --nft-active-content-direction: row; /* 기본(데스크탑): 좌우 */
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    max-width: 90rem;
    /* 카드 높이: 기본은 --nft-card-height, 1024↓에서는 JS가 최대 높이를 --nft-card-fixed-height로 주입 */
    height: var(--nft-card-fixed-height, var(--nft-card-height));
    border-radius: var(--nft-card-radius);
    overflow: hidden; /* 1024↓에서 이미지/콘텐츠가 모서리를 덮어 radius가 0처럼 보이는 현상 방지 */
    background: rgba(73, 211, 255, 1);
    box-shadow: 
        inset 0 0 0 0.0625rem rgba(255, 255, 255, 0.2),
        0 0.5rem 1.5rem rgba(0, 0, 0, 0.2);
    /* CSS 변수 기반 transform (슬롯 rotate 방식) */
    --tx: 0%;
    --scale: 0.9;
    --opacity: 0;
    transform: translate(-50%, -50%) translateX(var(--tx)) scale(var(--scale));
    opacity: var(--opacity);
    z-index: 0;
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s;
    will-change: transform, opacity;
    pointer-events: none;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
}

/* 1025px 이상: 뷰포트가 줄어들면 카드도 같은 비율로 축소되도록 (prev/next 포함) */
@media (min-width: 1025px) {
    .nft-carousel {
        /* 1440 x 640 비율(= 9/4)을 유지하며 가로가 줄면 세로도 같이 줄어듦 */
        --nft-carousel-height: auto;
        --nft-carousel-aspect: 9 / 4;
    }

    .nft-card {
        /* ✅ 1025px 이상: 카드 폭을 현재의 90%로 축소 */
        width: 90%;
        /* 카드 높이를 캐러셀 높이에 100%로 맞춰 비율 유지 */
        /* ✅ 1025px 이상: 카드 높이도 현재의 95%로 축소(레이아웃/전환 유지, 높이만 살짝 낮춤) */
        --nft-card-height: 95%;
        max-width: 100%; /* 캐러셀 폭이 줄면 카드도 같이 축소 */
    }

    /* ✅ 카드 밖 고정 네비도 카드 폭(90%)에 맞춰 정렬 */
    .nft-carousel-nav {
        width: 90%;
        /* ✅ 1025px 이상: 필요 시 여기 값만 수정해서 간격 조절 */
        --nft-carousel-nav-prev-x: -50%;
        --nft-carousel-nav-next-x: 50%;
    }
}

/* 카드 비율과 무관하게 radius는 "가로" 기준으로만 스케일링 (구현 가능한 브라우저 한정) */
@supports (container-type: inline-size) {
    .nft-card {
        container-type: inline-size;
        /* 5rem(최대) 유지 + 작은 화면에서만 자연스럽게 축소 */
        --nft-card-radius: clamp(2.5rem, 6cqi, 5rem); /* 6cqi = 카드 가로의 6% */
    }
}

/* CSS 변수 기반 애니메이션 제어 (슬롯 rotate 방식) */
.nft-card.no-anim {
    transition: none !important;
}

/* 순간이동(텔레포트) 시 트랜지션 끄기 */
.nft-card.no-transform-transition {
    transition: none !important;
}

/* 중앙 활성 카드 - 100% 사이즈, 완전 불투명, 최상위 레이어 */
.nft-card.active {
    /* 기본 transform을 유지하고 CSS 변수로 중앙 위치 설정 */
    --tx: 0%; /* 중앙 위치 (left: 50% 기준) */
    --scale: 1; /* 100% 사이즈 */
    --opacity: 1; /* 완전 불투명 */
    /* 기본 .nft-card의 transform을 명시적으로 사용 */
    transform: translate(-50%, -50%) translateX(var(--tx)) scale(var(--scale));
    opacity: var(--opacity);
    z-index: 3; /* 최상위 레이어 */
    /* CSS 변수로 제어되지만, active 클래스는 드래그/포인터 이벤트용으로 유지 */
    pointer-events: auto; /* 드래그를 위해 pointer-events 활성화 */
    cursor: grab; /* 드래그 가능 커서 */
}

.nft-card.active:active {
    cursor: grabbing; /* 드래그 중 커서 */
}

/* 왼쪽 2번째 카드 */
.nft-card.prev-prev {
    transform: translate(var(--nft-prev-prev-translate-x), -50%) scale(var(--nft-side-card-scale));
    opacity: 0.2; /* 투명도 20% */
    z-index: 0;
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s;
    pointer-events: none;
}

/* 왼쪽 1번째 카드 - 중앙 기준 약간 왼쪽으로만 이동 */
.nft-card.prev {
    transform: translate(var(--nft-prev-translate-x), -50%) scale(var(--nft-side-card-scale)); /* 브레이크포인트별 관리 */
    opacity: 0.2; /* 투명도 20% */
    z-index: 1; /* prev는 next보다 낮은 레이어 */
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* 기본: 위치와 투명도 모두 애니메이션 */
}

/* 오른쪽 1번째 카드 - 중앙 기준 약간 오른쪽으로만 이동 */
.nft-card.next {
    transform: translate(var(--nft-next-translate-x), -50%) scale(var(--nft-side-card-scale)); /* 브레이크포인트별 관리 */
    opacity: 0.2; /* 투명도 20% */
    z-index: 1; /* prev와 동일한 레이어 (이전 버튼 모션과 동일하게) */
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* 기본: 위치와 투명도 모두 애니메이션 */
}

/* 이전 버튼 클릭 시: 모든 카드가 왼쪽에서 오른쪽으로 이동 (→) */
.nft-carousel.direction-prev .nft-card.prev {
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* prev → active: 왼쪽에서 중앙으로 이동 */
}
.nft-carousel.direction-prev .nft-card.active {
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* active: 중앙으로 이동하며 사이즈/투명도 변경 */
}
.nft-carousel.direction-prev .nft-card.next {
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* active → next: 중앙에서 오른쪽으로 이동 */
}
.nft-carousel.direction-prev .nft-card.prev-prev {
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* prev-prev → prev: 왼쪽에서 오른쪽으로 이동 */
}
.nft-carousel.direction-prev .nft-card.next-next {
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* next → next-next: 오른쪽에서 더 오른쪽으로 이동 */
}
/* 이전 버튼 클릭 시: 오른쪽에서 왼쪽으로 이동하는 모션 방지 */
.nft-carousel.direction-prev .nft-card.hidden-left {
    transition: opacity 0.45s ease, z-index 0s; /* transform은 즉시 적용 (오른쪽에서 왼쪽 이동 방지) */
}
.nft-carousel.direction-prev .nft-card.hidden-right {
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* hidden-right → next-next: 오른쪽에서 더 오른쪽으로 이동 */
}

/* 다음 버튼 클릭 시: 모든 카드가 오른쪽에서 왼쪽으로 이동 (←) */
.nft-carousel.direction-next .nft-card.next {
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* next → active: 오른쪽에서 중앙으로 이동 */
}
/* 다음 버튼 클릭 시: prev, prev-prev, hidden-left, hidden(중앙), 또는 active(중앙)에서 next로 전환되는 경우 (왼쪽/중앙에서 오른쪽) - 방지 */
.nft-carousel.direction-next .nft-card.next.no-transform-transition {
    transition: opacity 0.45s ease, z-index 0s; /* transform은 즉시 적용 (왼쪽/중앙에서 오른쪽 이동 방지) */
}
.nft-carousel.direction-next .nft-card.active {
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* active: 중앙으로 이동하며 사이즈/투명도 변경 */
}
.nft-carousel.direction-next .nft-card.prev {
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* active → prev: 중앙에서 왼쪽으로 이동 */
}
.nft-carousel.direction-next .nft-card.next-next {
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* next-next → next: 오른쪽에서 왼쪽으로 이동 */
}
.nft-carousel.direction-next .nft-card.prev-prev {
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* prev → prev-prev: 왼쪽에서 더 왼쪽으로 이동 */
}
/* 다음 버튼 클릭 시: 왼쪽에서 오른쪽으로 이동하는 모션 방지 */
.nft-carousel.direction-next .nft-card.hidden-right {
    transition: opacity 0.45s ease, z-index 0s; /* transform은 즉시 적용 (왼쪽에서 오른쪽 이동 방지) */
}
.nft-carousel.direction-next .nft-card.hidden-right.no-transform-transition {
    transition: opacity 0.45s ease, z-index 0s; /* transform은 즉시 적용 (왼쪽에서 오른쪽 이동 방지) */
}
.nft-carousel.direction-next .nft-card.hidden-left {
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s; /* hidden-left → prev-prev: 왼쪽에서 더 왼쪽으로 이동 */
}

/* 오른쪽 2번째 카드 */
.nft-card.next-next {
    transform: translate(var(--nft-next-next-translate-x), -50%) scale(var(--nft-side-card-scale));
    opacity: 0.2; /* 투명도 20% */
    z-index: 0; /* prev-prev와 동일한 레이어 */
    transition: transform 0.45s ease, opacity 0.45s ease, z-index 0s;
    pointer-events: none;
}

/* 숨김 카드 - 중앙에 있지만 보이지 않음, 가장 낮은 레이어 */
.nft-card.hidden {
    transform: translate(-50%, -50%) scale(0.9); /* 중앙 고정, 90% 크기 */
    opacity: 0; /* 완전 투명 */
    z-index: 0; /* 가장 낮은 레이어 */
    transition: opacity 0.45s ease, z-index 0s 0.45s; /* 기본: transform은 즉시 적용, opacity만 애니메이션 */
    pointer-events: none; /* 클릭 불가 */
}
/* 다음 버튼 클릭 시: hidden(중앙)에서 hidden-right(오른쪽)로 전환되는 경우 - 방지 */
.nft-carousel.direction-next .nft-card.hidden {
    transition: opacity 0.45s ease, z-index 0s 0.45s; /* transform은 즉시 적용 (중앙에서 오른쪽 이동 방지) */
}

/* 숨김 카드 - 왼쪽에 배치 (prev로 전환될 카드) */
.nft-card.hidden-left {
    transform: translate(var(--nft-prev-translate-x), -50%) scale(var(--nft-side-card-scale)); /* 왼쪽, prev와 동일한 위치 */
    opacity: 0; /* 완전 투명 */
    z-index: 0; /* 가장 낮은 레이어 */
    transition: opacity 0.45s ease, z-index 0s 0.45s; /* transform은 즉시 적용, opacity만 애니메이션 */
    pointer-events: none; /* 클릭 불가 */
}

/* 숨김 카드 - 오른쪽에 배치 (next로 전환될 카드) */
.nft-card.hidden-right {
    transform: translate(var(--nft-next-translate-x), -50%) scale(var(--nft-side-card-scale)); /* 오른쪽, next와 동일한 위치 */
    opacity: 0; /* 완전 투명 */
    z-index: 0; /* 가장 낮은 레이어 */
    transition: opacity 0.45s ease, z-index 0s 0.45s; /* 기본: transform은 즉시 적용, opacity만 애니메이션 */
    pointer-events: none; /* 클릭 불가 */
}

/* NFT 카드 콘텐츠 - 공통 기본 스타일 */
.nft-card-content {
    width: 100%;
    height: var(--nft-content-height); /* 브레이크포인트별 관리 */
    display: flex;
    /* ✅ 추가: active가 아니어도 항상 동일한 flex 레이아웃 유지 */
    flex-direction: var(--nft-active-content-direction, row); /* 기본값 row */
    justify-content: var(--nft-active-content-justify, space-between); /* 기본값 space-between */
    align-items: var(--nft-content-align-items); /* 브레이크포인트별 관리 */
    padding: var(--nft-content-padding); /* 패딩 (변수로 관리) */
    position: relative;
    gap: var(--nft-content-gap);
    pointer-events: none; /* 기본적으로 클릭 불가 (드래그만 허용) */
}

/* ✅ 카드 밖(고정) 캐러셀 네비게이션 */
.nft-carousel-wrapper {
    position: relative; /* 네비게이션 absolute 기준 */
}

.nft-carousel-nav {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: min(1440px, 100%);
    height: 0; /* 버튼만 배치 */
    pointer-events: none; /* 컨테이너는 이벤트 막고, 버튼만 클릭 */
    z-index: 50;
    /* ✅ 브레이크포인트별로 prev/next 화살표 transform 값을 분리해서 관리 */
    --nft-carousel-nav-btn-y: -50%;
    --nft-carousel-nav-prev-x: -50%;
    --nft-carousel-nav-next-x: 50%;
}

.nft-carousel-nav .nft-carousel-nav-btn {
    position: absolute;
    top: 0;
    transform: translate(0, var(--nft-carousel-nav-btn-y)) scale(var(--btn-scale, 1));
    pointer-events: auto;
}

.nft-carousel-nav .nft-carousel-nav-btn.prev-btn {
    left: 0;
    transform: translate(var(--nft-carousel-nav-prev-x), var(--nft-carousel-nav-btn-y)) scale(var(--btn-scale, 1));
}

.nft-carousel-nav .nft-carousel-nav-btn.next-btn {
    right: 0;
    transform: translate(var(--nft-carousel-nav-next-x), var(--nft-carousel-nav-btn-y)) scale(var(--btn-scale, 1));
}

/* ✅ 요청 스타일: rgba(255,255,255,0.3) + blur + drop shadow */
.nft-carousel-nav .nft-carousel-nav-btn {
    background: rgba(255, 255, 255, 0.3);
    backdrop-filter: blur(8.89px);
    -webkit-backdrop-filter: blur(8.89px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
    /* ✅ hover에서 알파만 올리기 위한 트랜지션(블러/그림자는 유지) */
    transition: background-color 0.3s ease;
}

/* ✅ hover: opacity는 유지하고(=블러 체감 유지), 배경 알파만 살짝 증가 */
.nft-carousel-nav .nft-carousel-nav-btn:hover {
    background: rgba(255, 255, 255, 0.4);
}

/* 768px 이하: 기존 상태 유지(외부 네비 숨김) */
@media (max-width: 768px) {
    .nft-carousel-nav {
        display: none;
    }
}

/* 1025px 이상: 카드 내부 네비가 사라지며 레이아웃이 흐트러지지 않도록 활성 카드 텍스트 영역 중앙 정렬 */
@media (min-width: 1025px) {
    .nft-card.active,
    .nft-card.prev,
    .nft-card.next {
        --nft-left-justify: center; /* 화살표 제거로 생기는 여백 체감 방지 */
    }

    /* ✅ 1025px 이상: prev/next도 active와 '완전 동일한 텍스트/컬럼 레이아웃' 유지
       - 레이아웃은 동일, 차이는 transform(scale/translate) + opacity만 */
    .nft-card.prev .nft-card-content,
    .nft-card.next .nft-card-content {
        display: flex;
        flex-direction: var(--nft-active-content-direction);
        justify-content: var(--nft-active-content-justify);
        align-items: var(--nft-content-align-items);
    }

    .nft-card.prev .nft-card-left-column,
    .nft-card.prev .nft-card-right-column,
    .nft-card.next .nft-card-left-column,
    .nft-card.next .nft-card-right-column {
        width: var(--nft-active-col-width);
        flex: var(--nft-active-col-flex);
    }

    .nft-card.prev .nft-card-right-column,
    .nft-card.next .nft-card-right-column {
        margin-top: var(--nft-right-col-margin-top);
        margin-bottom: var(--nft-right-col-margin-bottom);
    }
}

/* NFT 카드: 왼쪽 컬럼 (텍스트 그룹 + 네비게이션 버튼) - 공통 */
.nft-card-left-column {
    display: flex;
    flex-direction: var(--nft-left-direction); /* 브레이크포인트별 관리 */
    align-items: var(--nft-left-align); /* 브레이크포인트별 관리 */
    justify-content: var(--nft-left-justify); /* 브레이크포인트별 관리 */
    gap: var(--nft-left-gap); /* 브레이크포인트별 관리 */
    padding: var(--nft-left-padding); /* 상하 패딩 (변수로 관리) */
    flex: var(--nft-left-flex); /* 공간 확보 (변수로 관리) */
    min-width: var(--nft-left-min-width);
    max-width: var(--nft-left-max-width);
    width: var(--nft-left-width);
    flex-shrink: var(--nft-left-flex-shrink); /* 축소 방지 (변수로 관리) */
    height: var(--nft-left-height); /* 전체 높이 사용 (변수로 관리) */
}

/* NFT 카드: 오른쪽 컬럼 (이미지 영역) - 공통 */
.nft-card-right-column {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: var(--nft-right-flex); /* 공간 확보 (변수로 관리) */
    min-width: var(--nft-right-min-width);
    max-width: var(--nft-right-max-width);
    width: var(--nft-right-width);
    flex-shrink: var(--nft-right-flex-shrink); /* 축소 방지 (변수로 관리) */
}

/* 활성 카드에서 오른쪽 컬럼 margin-top도 변수로 제어 (브레이크포인트별 관리) */
.nft-card.active .nft-card-right-column {
    margin-top: var(--nft-right-col-margin-top);
    margin-bottom: var(--nft-right-col-margin-bottom);
}

/* 활성 카드일 때 컬럼 폭/플렉스는 변수로 제어 (브레이크포인트별 관리 용이) */
.nft-card.active .nft-card-left-column,
.nft-card.active .nft-card-right-column {
    width: var(--nft-active-col-width);
    flex: var(--nft-active-col-flex);
}

/* 활성 카드일 때만 좌우 분할 강제 (반응형용) */
.nft-card.active .nft-card-content {
    display: flex;
    /* 브레이크포인트별로 direction을 변수로 관리 */
    flex-direction: var(--nft-active-content-direction);
    justify-content: var(--nft-active-content-justify); /* 세로형에서 간격 과다 방지 */
    align-items: var(--nft-content-align-items); /* 세로형에서 stretch로 전환 */
}

.nft-card-image-area {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: var(--nft-image-area-height); /* 브레이크포인트별 관리 */
    min-height: var(--nft-image-area-min-height); /* 브레이크포인트별 관리 */
}

.nft-card-image {
    display: block; /* 이미지의 inline 정렬 이슈 방지 */
    width: var(--nft-image-width);
    max-width: var(--nft-image-max-width);
    height: var(--nft-image-height);
    object-fit: var(--nft-image-object-fit);
    margin: 0 auto; /* 세로형에서 좌측으로 쏠려 보이는 현상 방지 */
    user-select: none; /* 텍스트 선택 방지 */
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -webkit-user-drag: none; /* 웹킷 브라우저 드래그 방지 */
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
    pointer-events: none; /* 클릭 이벤트 흐름 안정화 (레이아웃 영향 없음) */
}

/* 텍스트 그룹 (타이틀 + 서브 문구) */
.nft-card-text-group {
    display: flex;
    flex-direction: column;
    gap: var(--nft-text-group-gap);
    align-items: var(--nft-text-group-align); /* 브레이크포인트별 관리 */
    text-align: var(--nft-text-align); /* 브레이크포인트별 관리 */
    width: 100%; /* 좌측 컬럼(nft-card-left-column) 폭을 100%로 채움 */
    align-self: stretch; /* 상위 flex 정렬값과 무관하게 가로로 늘림 */
    max-width: var(--nft-text-group-max-width); /* 브레이크포인트별 관리 */
}

.nft-card-title {
    font-size: var(--nft-title-size);
    font-weight: 700;
    color: rgba(4, 6, 62, 1);
    line-height: 1.3;
    letter-spacing: -0.02em;
    margin: 0;
    word-break: keep-all;
    min-width: var(--nft-title-min-width);
}

.nft-card-subtitle {
    font-size: var(--nft-subtitle-size);
    font-weight: 400;
    color: rgba(4, 6, 62, 1);
    line-height: 1.3;
    letter-spacing: -0.02em;
    margin: 0;
    word-break: keep-all;
    min-width: var(--nft-subtitle-min-width);
}

.nav-btn {
    width: 3.5rem; /* 버튼 크기 */
    height: 3.5rem; /* 버튼 크기 */
    background: transparent; /* 배경 투명 */
    border: none;
    border-radius: 50%; /* 원형 배경 */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    /* ✅ 확대 모션을 transform 기반으로 통일(정중앙/스무스/호환성) */
    --btn-scale: 1;
    transform-origin: 50% 50%;
    transform: scale(var(--btn-scale));
    transition: transform 0.3s ease, opacity 0.3s ease;
    padding: 0;
    position: relative; /* z-index를 위한 positioning */
    z-index: 10; /* 카드 위에 표시되어 클릭 가능하도록 */
    pointer-events: auto; /* 버튼은 클릭 가능 */
    overflow: hidden; /* 원형 외각을 매끄럽게 유지 */
}

/* ✅ 외부/내부 공통: backdrop-filter 레이어(양쪽 버튼 동일 적용) */
.nav-btn::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    backdrop-filter: blur(8.89px);
    -webkit-backdrop-filter: blur(8.89px);
    z-index: -1;
}

/* 화살표 모양 - 원본 SVG path를 background-image로 사용 (단순화된 버전) */
.nav-btn::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    border-radius: 50%; /* 원형 클리핑 보장 */
    overflow: hidden; /* 원형 외각을 매끄럽게 유지 */
}

/* 왼쪽 화살표 (prev-btn) - foreignObject 제거하고 단순화 */
.nav-btn.prev-btn::after {
    /* ✅ 아이콘은 '화살표'만(배경 원은 버튼 배경으로 처리) */
    background-image: url("data:image/svg+xml,%3Csvg width='64' height='64' viewBox='0 0 64 64' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M26.1162 31.1152C25.6282 31.6033 25.6284 32.3946 26.1162 32.8828L34.6162 41.3838L36.3848 39.6162L28.7686 32L36.3848 24.3828L34.6172 22.6152L26.1162 31.1152Z' fill='%2304063E'/%3E%3C/svg%3E");
}

/* 오른쪽 화살표 (next-btn) - 원본 SVG path */
.nav-btn.next-btn::after {
    /* ✅ 아이콘은 '화살표'만(배경 원은 버튼 배경으로 처리) */
    background-image: url("data:image/svg+xml,%3Csvg width='64' height='64' viewBox='0 0 64 64' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M37.8838 31.1152C38.3718 31.6033 38.3716 32.3946 37.8838 32.8828L29.3838 41.3838L27.6152 39.6162L35.2314 32L27.6152 24.3828L29.3828 22.6152L37.8838 31.1152Z' fill='%2304063E'/%3E%3C/svg%3E");
}

/* ✅ 외부 캐러셀 네비는 아이콘만 작게 중앙 배치 */
.nft-carousel-nav .nav-btn::after {
    background-size: 95% 95%;
}

/* ✅ 1024~769(태블릿): 카드 폭(체감)을 0.9로 축소 */
@media (min-width: 769px) and (max-width: 1024px) {
    .nft-card.active {
        transform: translate(-50%, -50%) scale(0.9);
}

    /* prev/next는 active 대비 동일 비율 유지(기존 0.9 * 0.9 = 0.81) */
    .nft-card {
        --nft-side-card-scale: 0.81;
    }

    /* 카드가 줄어든 만큼 화살표도 카드에 맞춰 조금 안쪽으로 */
    .nft-carousel-nav {
        width: 90%;
        /* ✅ 769~1024(태블릿): 필요 시 여기 값만 수정해서 간격 조절 */
        --nft-carousel-nav-prev-x: -130%;
        --nft-carousel-nav-next-x: 130%;
    }
}

.nav-btn:hover {
    opacity: 0.8; /* 호버 시 약간 투명 */
    --btn-scale: 1.05; /* ✅ 정중앙 기준으로 아주 부드럽게 살짝 확대 */
}

/* ✅ 캐러셀 좌우 화살표: hover 시에도 글래스(blur) 체감이 유지되도록 opacity는 고정 */
.nft-carousel-nav .nav-btn:hover {
    opacity: 1;
}


/* NFT 발급하기 버튼 */
.nft-issue-btn-wrapper {
    text-align: center;
}

.nft-issue-btn {
    /* ✅ hover 해제 시 파란색 깜빡임 방지:
       - background(단색↔그라데이션) 자체를 바꾸지 않고,
       - ::before 오버레이(opacity)로만 그라데이션을 전환 */
    background: rgba(4, 6, 62, 1);
    border: none;
    outline: none;
    border-radius: 2.3125rem;
    padding: 0.8rem 2.6rem;
    font-size: clamp(1.125rem, 2.5vw, 1.75rem);
    font-weight: 700;
    line-height: 1.6;
    color: rgba(131, 255, 255, 1);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    font-family: 'LINE Seed Sans KR', sans-serif;
}

.nft-issue-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(180deg, #1a1f3a 0%, #2a2f4a 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    z-index: 0; /* ✅ 텍스트(라벨) 아래 */
}

.nft-issue-btn .btn-label {
    position: relative;
    z-index: 1; /* ✅ 오버레이 위 */
}

.nft-issue-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.nft-issue-btn:hover::before {
    opacity: 1;
}

/* NFT 등급 소개 섹션 */
.nft-level-intro {
    width: 100%;
    margin-top: 240px;
    margin-bottom: 80px;
    /* 캐러셀 카드가 overflow로 내려오는 경우에도 상호작용(클릭/스와이프)이 막히지 않도록 위로 올림 */
    position: relative;
    z-index: 20;
}

.nft-level-intro-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 80px;
    width: 100%;
}

/* 왼쪽 텍스트 영역 */
.nft-level-text {
    flex: 1;
    max-width: 500px;
}

.nft-level-title {
    font-size: clamp(2rem, 5vw, 3rem);
    font-weight: 700;
    color: rgba(255, 255, 255, 1);
    margin-bottom: 1.5rem;
    line-height: 1.3;
    letter-spacing: -0.02em;
}

.nft-level-title.slide-in.visible {
    font-size: clamp(2rem, 5vw, 4rem);
}

.nft-level-description {
    font-size: clamp(1.125rem, 2.5vw, 1.5rem);
    font-weight: 400;
    color: rgba(185, 212, 255, 0.9);
    line-height: 1.6;
    letter-spacing: -0.01em;
}

/* 오른쪽 NFT 스크롤 영역 */
.nft-level-visual {
    flex: 1;
    max-width: 640px;
    display: flex;
    justify-content: flex-end;
    align-items: flex-end;
    position: relative;
    z-index: 20;
}

.nft-scroll-container {
    width: 100%;
    max-width: 600px;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 32px;
    position: relative;
}

/* 이미지와 하단 요소를 감싸는 래퍼 */
.nft-level-content-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 480px;
}

/* NFT 레벨 이미지 슬라이더 */
.nft-level-image-wrapper {
    position: relative;
    width: 480px;
    height: 480px;
    border-radius: 24px 24px 0 0;
    overflow: hidden;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    margin: 0 auto;
    /* 모바일에서 드래그/스와이프가 브라우저 가로 팬에 먹히지 않도록 */
    touch-action: pan-y;
}

.nft-level-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 480px;
    height: 480px;
    object-fit: cover;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
    pointer-events: none;
    /* 모바일/데스크톱 모두: 이미지 자체가 끌려오지 않도록 */
    -webkit-user-drag: none;
    user-select: none;
    -webkit-touch-callout: none;
}

.nft-level-image.active {
    opacity: 1;
    pointer-events: auto;
}

/* NFT 레벨 화살표 버튼 - nav-btn과 동일한 스타일 */
.nft-level-arrow {
    width: 48px; /* 버튼 크기 */
    height: 48px; /* 버튼 크기 */
    /* ✅ NFT 캐러셀 화살표와 동일한 컬러값(blur/그림자 없이 컬러만) */
    background: rgba(255, 255, 255, 0.3);
    border: none;
    border-radius: 50%; /* 원형 배경 */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    /* ✅ nav-btn를 같이 붙여서 '정중앙 확대 모션'을 그대로 재사용(transform 기반) */
    transition: transform 0.3s ease, background-color 0.3s ease;
    flex-shrink: 0;
    z-index: 10;
    padding: 0;
    position: relative;
    pointer-events: auto; /* 버튼은 클릭 가능 */
    overflow: hidden; /* 원형 외각을 매끄럽게 유지 */
}

/* ✅ nft-level-arrow는 blur/그림자 불필요: nav-btn의 blur 레이어만 제거 */
.nft-level-arrow.nav-btn::before {
    content: none;
}

/* 좌우 화살표 버튼 크기는 .nft-level-arrow(64/56/40) 규칙을 따름 */

/* 화살표 모양 - 원본 SVG path를 background-image로 사용 (단순화된 버전) */
.nft-level-arrow::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    border-radius: 50%; /* 원형 클리핑 보장 */
    overflow: hidden; /* 원형 외각을 매끄럽게 유지 */
}

/* 왼쪽 화살표 (prev) - ✅ 캐러셀과 동일하게 '화살표'만 네이비(#04063E)로 사용 */
.nft-level-arrow-prev::after {
    background-image: url("data:image/svg+xml,%3Csvg width='64' height='64' viewBox='0 0 64 64' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M26.1162 31.1152C25.6282 31.6033 25.6284 32.3946 26.1162 32.8828L34.6162 41.3838L36.3848 39.6162L28.7686 32L36.3848 24.3828L34.6172 22.6152L26.1162 31.1152Z' fill='%2304063E'/%3E%3C/svg%3E");
}

/* 오른쪽 화살표 (next) - ✅ 캐러셀과 동일하게 '화살표'만 네이비(#04063E)로 사용 */
.nft-level-arrow-next::after {
    background-image: url("data:image/svg+xml,%3Csvg width='64' height='64' viewBox='0 0 64 64' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M37.8838 31.1152C38.3718 31.6033 38.3716 32.3946 37.8838 32.8828L29.3838 41.3838L27.6152 39.6162L35.2314 32L27.6152 24.3828L29.3828 22.6152L37.8838 31.1152Z' fill='%2304063E'/%3E%3C/svg%3E");
}

/* nav-btn과 동일한 hover 효과 */
.nft-level-arrow:hover {
    --btn-scale: 1.05; /* ✅ nav-btn와 동일: 정중앙에서 살짝 확대(스무스) */
    /* ✅ hover 컬러(알파)만 올림 */
    background: rgba(255, 255, 255, 0.4);
}

/* ✅ nav-btn:hover의 opacity(0.8) 영향 제거: 레벨 화살표는 컬러/가독성 유지 */
.nft-level-arrow.nav-btn:hover {
    opacity: 1;
}

/* 이미지와 정보 바를 감싸는 래퍼 */
.nft-level-image-wrapper {
    display: flex;
    flex-direction: column;
}

/* 하단 정보 바 */
.nft-level-bar {
    width: 100%;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 0 0 24px 24px;
    padding: 20px 32px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.level-info {
    font-size: clamp(1rem, 1.8vw, 1.25rem);
    font-weight: 700;
    color: rgba(255, 255, 255, 1);
    letter-spacing: -0.02em;
}

.view-details {
    font-size: clamp(0.875rem, 1.5vw, 1rem);
    font-weight: 400;
    color: rgba(185, 212, 255, 1);
    text-decoration: underline;
    text-underline-offset: 0.25rem;
    cursor: pointer;
    transition: opacity 0.3s ease;
    /* ✅ span → button 전환 대응(기본 버튼 스타일 제거) */
    background: transparent;
    border: none;
    padding: 0;
    font-family: inherit;
    line-height: inherit;
}

.view-details:hover {
    opacity: 0.8;
}

/* =========================
   NFT 레벨 모달(자세히 보기)
   ========================= */

.nft-level-modal-overlay {
    /* ✅ 브라우저 전체 덮는 백그라운드 레이어 */
    position: fixed;
    inset: 0;
    z-index: 4000; /* GNB/기타 오버레이보다 위 */
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    background: rgba(0, 0, 0, 0.3);
    /* ✅ 배경 블러(뒤 콘텐츠에만 적용) */
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);

    /* 디폴트는 숨김 */
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: opacity 220ms ease, visibility 0s linear 220ms;
}

.nft-level-modal-overlay.is-open {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transition: opacity 220ms ease, visibility 0s linear 0s;
}

.nft-level-modal-overlay[hidden] {
    display: none;
}

.nft-level-modal {
    /* ✅ 1024 기준: max width 1200 / max height 640 / BG color #010B15 */
    width: min(1200px, calc(100vw - 40px));
    max-height: min(640px, calc(100vh - 40px));
    background: rgba(1, 11, 21, 1);
    color: rgba(255, 255, 255, 1);
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    gap: 24px;

    /* ✅ radius는 팝업 가로 사이즈에 따라 비율 유지하며 축소 */
    --nft-modal-radius: 40px;
    border-radius: var(--nft-modal-radius);

    /* ✅ 기본(모바일~태블릿): 자동 정렬/패딩 */
    padding: 32px 24px 0 24px;
    outline: none;
}

@supports (container-type: inline-size) {
    .nft-level-modal {
        container-type: inline-size;
        /* 1200px 기준 radius 40px = 3.33% */
        --nft-modal-radius: clamp(20px, 3.33cqi, 40px);
    }
}

/* ✅ 모바일: 모달 높이(최대) 0.9로 축소 */
@media (max-width: 768px) {
    .nft-level-modal {
        /* 기존 max-height(640px, 100vh-40px)의 90% 수준으로 축소 */
        max-height: min(576px, calc((100vh - 40px) * 0.9));
        /* ✅ 모달을 벗어나는 콘텐츠만 안 보이도록(라운드 영역 클리핑) */
        position: relative;
        overflow: hidden;
    }
}

@media (min-width: 1024px) {
    .nft-level-modal {
        padding: 40px;
    }
}

.nft-level-modal-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 24px;
    position: relative;
    z-index: 3; /* ✅ 하단 그라데이션보다 위 */
}

.nft-level-modal-title {
    margin: 0;
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.02em;
    color: rgba(131, 255, 255, 1);
    word-break: keep-all;
}

.nft-level-modal-close {
    background: transparent;
    border: none;
    padding: 0;
    cursor: pointer;
    flex: 0 0 auto;
    width: 40px;
    height: 40px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.nft-level-modal-close img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    pointer-events: none;
}

.nft-level-modal-body {
    /* ✅ 테이블 영역은 내부 스크롤로 처리(최대 높이 유지) */
    flex: 1 1 auto;
    min-height: 0;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    position: relative;
    z-index: 1;
}

/* ✅ 모바일: 스크롤 끝에서 콘텐츠가 가려지지 않도록 바디 하단 여백 확보 */
@media (max-width: 768px) {
    .nft-level-modal-body {
        /* 하단 그라데이션 높이만큼 + iOS 안전영역 */
        padding-bottom: calc(32px + env(safe-area-inset-bottom, 0px));
    }

    /* ✅ 스크롤 가능함을 비주얼로 알려주는 하단 그라데이션 */
    .nft-level-modal::after {
        content: '';
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        height: 72px;
        background: linear-gradient(
            to top,
            rgba(1, 11, 21, 1),
            rgba(1, 11, 21, 0)
        );
        pointer-events: none;
        z-index: 2;
    }
}

/* ✅ 모달 내부 커스텀 스크롤바
   - 기본 트랙 배경 없이 "바(thumb)만" 노출
   - 두께 4px / radius 2px / color rgba(255,255,255,0.3)
   - 적용 범위: 모달 내부(.nft-level-modal-body)만 */
.nft-level-modal-body {
    scrollbar-width: thin; /* Firefox: 두께는 'thin'으로 근사 */
    scrollbar-color: rgba(255, 255, 255, 0.3) transparent; /* thumb / track */
}

.nft-level-modal-body::-webkit-scrollbar {
    width: 4px;  /* 세로 스크롤바 두께 */
    height: 4px; /* 가로 스크롤바 두께 */
}

.nft-level-modal-body::-webkit-scrollbar-track {
    background: transparent; /* 트랙 배경 제거 */
}

.nft-level-modal-body::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.3);
    border-radius: 2px;
}

.nft-level-modal-body::-webkit-scrollbar-corner {
    background: transparent;
}

/* 테이블 */
.nft-level-modal-table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
    word-break: keep-all;
}

/* ✅ 기본(모바일 외 해상도): 가로형 테이블만 노출
   - 모바일용 세로형 행은 기본적으로 숨김 */
.nft-level-modal-row-mobile {
    display: none;
}

.nft-level-modal-row-desktop {
    display: table-row;
}

.nft-level-modal-table thead th {
    text-align: left;
    font-size: clamp(0.875rem, 1.4vw, 0.75rem);
    font-weight: 400;
    color: rgba(255, 255, 255, 0.55);
    /* ✅ 가로형 테이블: 헤더/바디 텍스트 시작점(좌측 패딩) 동일하게 맞춤 */
    padding: 16px 4px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.28);
}

.nft-level-modal-table tbody td {
    vertical-align: top;
    font-size: clamp(0.95rem, 1.6vw, 1rem);
    font-weight: 400;
    color: rgba(255, 255, 255, 1);
    padding: 20px 4px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.14);
    line-height: 1.55;
}

.nft-level-modal-table tbody tr:last-child td {
    border-bottom: 1px solid rgba(255, 255, 255, 0.28);
}

/* 컬럼 폭(이미지 기준) */
.nft-level-modal-table th:nth-child(1),
.nft-level-modal-table td:nth-child(1) { width: 10%; }
.nft-level-modal-table th:nth-child(2),
.nft-level-modal-table td:nth-child(2) { width: 18%; }
.nft-level-modal-table th:nth-child(3),
.nft-level-modal-table td:nth-child(3) { width: 18%; }
.nft-level-modal-table th:nth-child(4),
.nft-level-modal-table td:nth-child(4) { width: 27%; }
.nft-level-modal-table th:nth-child(5),
.nft-level-modal-table td:nth-child(5) { width: 27%; }

/* 좁은 화면: 테이블이 자연스럽게 스크롤 되도록 최소 폭 부여 */
@media (max-width: 768px) {
    /* ✅ 모바일: 헤더 숨김 + 세로형 카드 레이아웃(첨부 이미지 스타일) */
    .nft-level-modal-table thead {
        display: none;
    }

    /* 데스크탑용 행 숨김 / 모바일용 행만 표시 */
    .nft-level-modal-row-desktop {
        display: none;
    }

    .nft-level-modal-row-mobile {
        display: table-row;
    }

    /* ✅ 모바일용 셀: 데스크탑 td 기본 border-bottom(0.14)보다 specificity가 높아야 중복 라인이 안 생김 */
    .nft-level-modal-table tbody .nft-level-modal-row-mobile td {
        padding: 0;
        border: none;
        border-bottom: none; /* ✅ 데스크탑 td 라인 제거(중복 방지) */
    }

    /* ✅ 데스크탑 전용 last-child td 라인도 모바일에서는 제거 */
    .nft-level-modal-table tbody tr:last-child td {
        border-bottom: none;
    }

    .nft-level-mobile-card {
        padding: 24px 0;
        border-bottom: none; /* ✅ 카드 자체 라인은 제거 */
    }

    /* ✅ 모바일 행(tr) 하단 라인만 유지 + 투명도 0.2 */
    .nft-level-modal-row-mobile {
        border-bottom: 1px solid rgba(255, 255, 255, 0.4);
    }
    
    /* ✅ Lv.5(마지막 행) 최하단 바텀라인 제거 */
    .nft-level-modal-table tbody .nft-level-modal-row-mobile:last-child {
        border-bottom: none;
    }

    .nft-level-mobile-head {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 20px;
        padding: 0 0 18px 0;
    }

    .nft-level-mobile-lv {
        font-size: clamp(1rem, 4vw, 1.25rem);
        font-weight: 700;
        color: rgba(255, 255, 255, 1);
        flex: 0 0 auto;
    }

    .nft-level-mobile-role {
        text-align: right;
        font-size: clamp(1rem, 4vw, 1.25rem);
        font-weight: 700;
        color: rgba(255, 255, 255, 1);
        line-height: 1.25;
    }

    .nft-level-mobile-nft {
        display: block;
        margin-top: 6px;
        font-size: clamp(0.75rem, 3.4vw, 1rem);
        font-weight: 400;
        color: rgba(185, 212, 255, 0.9);
    }

    .nft-level-mobile-block {
        margin-top: 16px;
    }

    .nft-level-mobile-tag {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 6px 12px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.12);
        color: rgba(255, 255, 255, 0.9);
        font-size: 0.875rem;
        font-weight: 700;
        letter-spacing: -0.01em;
    }

    .nft-level-mobile-text {
        margin-top: 10px;
        font-size: clamp(1rem, 4vw, 1.25rem);
        color: rgba(255, 255, 255, 1);
        line-height: 1.6;
        word-break: keep-all;
    }

    /* 모바일에서 테이블 자체 가로 스크롤 제거 */
    .nft-level-modal-table {
        table-layout: auto;
    }
}

/* 하단 페이지네이션 인디케이터 */
.nft-level-indicators {
    display: flex;
    gap: 8px;
    margin-top: 24px;
    align-items: center;
    justify-content: center;
    /* 인디케이터 영역에서도 스와이프 인식 안정화 */
    touch-action: pan-y;
}

.nft-level-indicators .indicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    border: none;
    background: rgba(255, 255, 255, 0.2);
    /* all 트랜지션은 상태 전환 시 깜빡임처럼 느껴질 수 있어 필요한 속성만 */
    transition: transform 0.2s ease, background-color 0.2s ease;
    cursor: pointer;
    pointer-events: auto;
    /* 모바일 탭 시 하이라이트(회색 플래시) 제거 */
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}

/* hover 가능한(마우스) 환경에서만 hover 확대 적용 → 모바일에서의 잔상/깜빡임 방지 */
@media (hover: hover) and (pointer: fine) {
.nft-level-indicators .indicator:hover {
    transform: scale(1.2);
    background: rgba(255, 255, 255, 0.4);
    }
}

.nft-level-indicators .indicator.active {
    background: rgba(255, 255, 255, 1.0);
    transform: scale(1.2);
}

/* NFT 섹션 반응형 */
@media (max-width: 1024px) {
    .nft-carousel {
        --nft-carousel-height: 560px;
    }
    
    .nft-card {
        /* 1024 이하: 카드 높이는 JS가 --nft-card-fixed-height로 통일 (CSS는 auto로 두기) */
        --nft-card-height: auto;
        /* 1024 이하에서도 prev/next를 보여주므로, 기본(비활성) 카드는 데스크탑 레이아웃 유지 */
        --nft-content-height: 100%;
        --nft-content-align-items: center;
        --nft-active-content-justify: space-between;
        --nft-image-area-height: 100%;
        --nft-image-area-min-height: 100%;
        --nft-text-align: left;
        --nft-text-group-align: flex-start;

        /* 1024 이하에서도 데스크탑과 동일한 전환 모션 + 좌우에 prev/next가 살짝 보이도록 */
        --nft-prev-translate-x: -140%;
        --nft-next-translate-x: 40%;
    }

    /* 1024 이하: active/prev/next 모두 동일한 세로형 레이아웃 + 사이즈 기준
       (prev/next는 transform scale + opacity로만 차이) */
    .nft-card.active,
    .nft-card.prev,
    .nft-card.next {
        --nft-content-padding: 60px 60px;
        --nft-active-content-direction: column-reverse; /* 이미지(right-column) 먼저 */
        --nft-active-col-width: 100%;
        --nft-active-col-flex: 1 1 100%;
        --nft-right-col-margin-top: 0;
        --nft-active-content-justify: flex-start;
        --nft-image-area-height: auto;
        --nft-image-area-min-height: auto;

        /* active 카드에서만 우측(이미지) 컬럼을 상단 풀폭으로 */
        --nft-right-min-width: 0;
        --nft-right-max-width: none;
        --nft-right-width: 100%;
        --nft-right-flex: 0 0 auto;
        --nft-right-flex-shrink: 1;

        /* active 카드 디자인 값 */
        --nft-image-max-width: 400px;
        --nft-title-min-width: 0;
        --nft-subtitle-min-width: 0;
        --nft-title-size: clamp(2.5rem, 4.5vw, 3rem);
        --nft-subtitle-size: clamp(1.125rem, 2.25vw, 1.5rem);

        /* 네비는 항상 최하단 고정 */
        --nft-left-padding: 0;
        --nft-left-min-width: 0;
        --nft-left-max-width: none;
        --nft-left-width: 100%;
        --nft-left-direction: column;
        --nft-left-align: stretch;
        --nft-left-justify: flex-start;
        --nft-left-gap: 2rem;
        --nft-left-flex: 1 1 auto;
        --nft-left-flex-shrink: 1;
        --nft-left-height: 100%;
    }
    
    /* 1024 이하: prev/next도 active와 동일한 콘텐츠(세로형) 레이아웃 적용 */
    .nft-card.prev .nft-card-content,
    .nft-card.next .nft-card-content {
        display: flex;
        flex-direction: var(--nft-active-content-direction);
        justify-content: var(--nft-active-content-justify);
        align-items: var(--nft-content-align-items);
    }

    .nft-card.prev .nft-card-left-column,
    .nft-card.prev .nft-card-right-column,
    .nft-card.next .nft-card-left-column,
    .nft-card.next .nft-card-right-column {
        width: var(--nft-active-col-width);
        flex: var(--nft-active-col-flex);
    }
    
    .nft-card.prev .nft-card-right-column,
    .nft-card.next .nft-card-right-column {
        margin-top: var(--nft-right-col-margin-top);
        margin-bottom: var(--nft-right-col-margin-bottom);
    }

    /* 1024 이하에서도 데스크탑과 동일하게 prev/next를 보여주기 위해 absolute 캐러셀 유지
       - 캐러셀 높이는 JS에서 active 카드 높이로 동기화 */
    .nft-carousel {
        transition: height 0.45s ease; /* 카드 전환 시 높이도 자연스럽게 */
    }
    
    /* prev/next transform은 변수로 공통 관리 */
    
    .nav-btn {
        width: 56px;
        height: 56px;
    }
    
    /* ::after는 100%로 따라가므로 중복 선언 불필요 */
    
    /* NFT 등급 소개 섹션 반응형 */
    .nft-level-intro {
        margin-top: 80px;
        margin-bottom: 60px;
    }
    
    .nft-level-intro-content {
        flex-direction: column;
        gap: 60px;
        align-items: center;
    }
    
    .nft-level-text {
        max-width: 100%;
        text-align: center;
    }
    
    .nft-level-visual {
        max-width: 100%;
    }
    
    .nft-scroll-container {
        max-width: 500px;
        gap: 24px;
    }
    
    .nft-level-content-wrapper {
        width: 400px;
    }
    
    .nft-level-image-wrapper {
        width: 400px;
        height: 400px;
    }
    
    .nft-level-image {
        width: 400px;
        height: 400px;
    }
    
    .nft-level-arrow {
        width: 48px;
        height: 48px;
    }
    
    /* 화살표 크기 조정 */
    .nft-level-arrow::after {
        width: 48px;
        height: 48px;
    }
}

@media (max-width: 768px) {
    /* 모바일(768px 이하): NFT 섹션 내 발급 버튼은 숨김(플로팅 버튼 사용) */
    .nft-issue-btn-wrapper {
        display: none;
    }

    .nft-carousel {
        --nft-carousel-height: 500px;
    }
    
    .nft-card {
        /* 768 이하: 카드 높이는 JS가 --nft-card-fixed-height로 통일 (CSS는 auto로 두기) */
        --nft-card-height: auto;
        /* 768 이하에서도 prev/next를 보여주므로, 기본(비활성) 카드는 데스크탑 레이아웃 유지 */
        --nft-content-height: 100%;
        --nft-content-align-items: center;
        --nft-active-content-justify: space-between;
        --nft-image-area-height: 100%;
        --nft-image-area-min-height: 100%;
        --nft-text-align: left;
        --nft-text-group-align: flex-start;
        /* 768 이하에서도 prev/next가 살짝 보이도록 */
        --nft-prev-prev-translate-x: -250%;
        --nft-prev-translate-x: -150%;
        --nft-next-translate-x: 50%;
        --nft-next-next-translate-x: 150%;
    }
    
    /* 768 이하: active/prev/next 모두 동일한 세로형 레이아웃 + 사이즈 기준
       (prev/next는 transform scale + opacity로만 차이) */
    .nft-card.active,
    .nft-card.prev-prev,
    .nft-card.prev,
    .nft-card.next,
    .nft-card.next-next {
        /* 768 이하: 패딩을 %로 관리 (가로폭 기준으로 상하/좌우 모두 함께 증감) */
        --nft-content-padding: 2% 8% 8% 8%;
        /* 768 이하: 이미지-텍스트 사이 gap(빨간 박스 영역)만 따로 제어 */
        --nft-content-gap: 0.75rem;
        --nft-active-content-direction: column-reverse;
        --nft-active-col-width: 100%;
        --nft-active-col-flex: 1 1 100%;
        --nft-right-col-margin-top: 0;
        --nft-right-col-margin-bottom: 0; /* 768 이하: right-column bottom margin 제거 */
        --nft-active-content-justify: flex-start;
        --nft-image-area-height: auto;
        --nft-image-area-min-height: auto;

        --nft-right-min-width: 0;
        --nft-right-max-width: none;
        --nft-right-width: 100%;
        --nft-right-flex: 0 0 auto;
        --nft-right-flex-shrink: 1;
        --nft-image-max-width: 360px;

        /* 텍스트 그룹은 좌측 컬럼 폭을 100%로 채움 */
        --nft-text-group-max-width: 100%;
        --nft-title-min-width: 0;
        --nft-subtitle-min-width: 0;
        --nft-title-size: clamp(1.5rem, 5vw, 2rem);
        --nft-subtitle-size: clamp(0.875rem, 2.25vw, 1.5rem);

        --nft-left-padding: 0;
        --nft-left-min-width: 0;
        --nft-left-max-width: none;
        --nft-left-width: 100%;
        --nft-left-direction: column;
        --nft-left-align: stretch;
        --nft-left-justify: flex-start;
        --nft-left-gap: 1.25rem;
        --nft-left-flex: 1 1 100%;
        --nft-left-flex-shrink: 1;
        --nft-left-height: 100%;
    }

    /* 768 이하: prev/next도 active와 동일한 콘텐츠(세로형) 레이아웃 적용 */
    .nft-card.prev .nft-card-content,
    .nft-card.next .nft-card-content {
        display: flex;
        flex-direction: var(--nft-active-content-direction);
        justify-content: var(--nft-active-content-justify);
        align-items: var(--nft-content-align-items);
    }
    
    .nft-card.prev .nft-card-left-column,
    .nft-card.prev .nft-card-right-column,
    .nft-card.next .nft-card-left-column,
    .nft-card.next .nft-card-right-column {
        width: var(--nft-active-col-width);
        flex: var(--nft-active-col-flex);
    }
    
    .nft-card.prev .nft-card-right-column,
    .nft-card.next .nft-card-right-column {
        margin-top: var(--nft-right-col-margin-top);
        margin-bottom: var(--nft-right-col-margin-bottom);
    }
    
    /* 768 이하에서도 1024 이상과 동일한 전환 모션을 유지하려면 prev/next를 숨기지 않음
       - 필요 시 translate 값은 별도 조정 가능 */
    
    /* 오른쪽 컬럼 margin-top / active direction / 컬럼 폭은 변수로 공통 관리 */
    
    /* NFT 등급 소개 섹션 모바일 반응형 */
    .nft-level-intro {
        margin-top: 60px;
        margin-bottom: 40px;
    }
    
    .nft-level-intro-content {
        gap: 40px;
    }
    
    .nft-scroll-container {
        width: 100%;
        max-width: 100%; /* 768↓에서 컨테이너 폭을 꽉 채움 */
        gap: 0; /* 화살표 삭제 시 불필요한 간격 제거 */
        justify-content: center;
        touch-action: pan-y; /* 세로 스크롤 유지 + 가로 스와이프는 JS가 처리 */
    }
    
    .nft-level-content-wrapper {
        width: 320px;
    }
    
    .nft-level-image-wrapper {
        width: 320px;
        height: 320px;
    }
    
    .nft-level-image {
        width: 320px;
        height: 320px;
    }
    
    .nft-level-arrow {
        display: none !important; /* 768↓: 화살표 삭제(드래그 전용) */
    }
    
    /* ::after는 100%로 따라가므로 중복 선언 불필요 */
    
    .nft-level-bar {
        padding: 12px 16px;
        /* 768px 이하: 상하 배치 → 좌우 배치 */
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
    }

    /* (정리) 카드 내부 네비게이션(.nft-card-nav)은 마크업에서 제거되어 관련 규칙도 제거됨 */
    
    .nav-btn {
        width: 40px;
        height: 40px;
    }
    
    /* ::after는 100%로 따라가므로 중복 선언 불필요 */
    
    .nft-card-image {
        max-width: 300px;
    }
}

/* Roadmap Section */
.roadmap-section {
    width: 100%;
    min-height: 100vh;
    background: transparent; /* 통합 배경 사용 */
    padding: 10vh 5vw; /* 다른 섹션과 동일하게 좌우 패딩 적용 */
    position: relative;
    z-index: 10;
    overflow-x: hidden; /* 섹션 자체는 스크롤 숨김 */
}

.roadmap-container {
    width: 100%; /* 가로 스크롤을 위해 전체 너비 사용 */
    max-width: 100%;
    margin: 0 auto;
    padding: 0; /* 패딩 제거 (timeline에서 처리) */
}

/* roadmap-title, roadmap-subtitle은 공통 클래스로 통합됨 */
/* 공통 섹션 스타일이 이미 적용되어 있음 (.structure-title, .roadmap-title / .structure-subtitle, .roadmap-subtitle) */

/* =========================
   Roadmap 타임라인 (가로 스크롤)
   ========================= */
.roadmap-timeline {
    position: relative;
    display: flex;
    align-items: flex-start;
    gap: 0; /* 카드 간 gap은 margin-right로 조절 */
    margin-bottom: 8vh;
    /* roadmap-section의 좌우 패딩(5vw) 영향을 받지 않도록, 타임라인만 풀-블리드로 확장 */
    box-sizing: border-box;
    width: calc(100% + 10vw);
    margin-left: -5vw;
    margin-right: -5vw;
    padding: 275px 5vw 40px 5vw; /* 위쪽 275px = 지름 550px 원의 절반 높이 */
    overflow-x: auto;
    /* 성능: y는 숨기되(클리핑), 아치는 padding-top 영역 안에서만 그려지도록 매칭되어 있음 */
    overflow-y: hidden;
    overscroll-behavior-x: contain; /* 내부 가로 스크롤이 바깥으로 튀지 않게 */
    /* 드래그/휠 스크롤은 네이티브가 가장 자연스러움(프로그램 스크롤만 필요 시 JS에서 제어) */
    scroll-behavior: auto;
    -webkit-overflow-scrolling: touch;
    /* 마우스 드래그(그랩) 스크롤을 위한 기본 UX */
    cursor: grab;
    /* 기본은 세로 스크롤 우선 */
    touch-action: pan-y;
}

/* ✅ 모바일 실디바이스: 세로 스크롤도 되고, 가로도 네이티브로 부드럽게 스와이프되도록 */
@media (max-width: 768px) {
    .roadmap-timeline {
        touch-action: auto; /* 세로/가로 제스처를 브라우저가 자연스럽게 처리 */
    }
}

/* =========================
   GNB: 모바일에서 리퀴드(왜곡) 느낌 보강
   - iOS/Safari는 backdrop-filter에 url(#filter) 미지원이라 "배경 왜곡"이 약해질 수 있음
   - pseudo-element 자체에 SVG 필터를 걸어 리퀴드 오버레이를 만들어 보강
   ========================= */
@keyframes gnbLiquidDrift {
    0% { background-position: 0% 0%; transform: translate3d(0,0,0); }
    50% { background-position: 60% 40%; transform: translate3d(0,-1px,0); }
    100% { background-position: 100% 0%; transform: translate3d(0,0,0); }
}

@media (max-width: 768px) {
    /* ✅ “평범한 글래스”가 되지 않도록, 오버레이 자체에 왜곡/광택을 추가 */
    .gnb-main::after,
    .gnb-sub::after {
        /* 블루 틴트는 최소화(중립 톤) + 하이라이트만 유지 */
        background:
            radial-gradient(120% 140% at 20% 10%, rgba(255, 255, 255, 0.34) 0%, rgba(255, 255, 255, 0.08) 45%, rgba(255, 255, 255, 0.0) 70%),
            radial-gradient(120% 140% at 80% 30%, rgba(255, 255, 255, 0.22) 0%, rgba(255, 255, 255, 0.06) 48%, rgba(255, 255, 255, 0.0) 72%),
            linear-gradient(135deg, rgba(255, 255, 255, 0.10), rgba(255, 255, 255, 0.02));
        background-size: 200% 200%;

        /* ✅ 오버레이 자체를 리퀴드하게 왜곡(배경 왜곡이 약한 모바일 보강용) */
        filter: url(#gnb-glass);
        opacity: 0.22;
        animation: gnbLiquidDrift 7s ease-in-out infinite;
    }

    /* 오버레이가 과하게 느껴지면 이 값만 0.18~0.28 사이로 조절 */
}

/* 드래그 중에는 텍스트 선택 방지 + 커서 변경 */
.roadmap-timeline.is-dragging {
    cursor: grabbing;
    user-select: none;
}

/* 스크롤바 완전히 숨기기 */
.roadmap-timeline {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
}

.roadmap-timeline::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
}

/* Timeline Item - Phase 하나당 폭 550px 고정, 간격 없이 우측으로 붙는 구조 */
.timeline-item {
    position: relative;
    flex: 0 0 550px; /* 하나당 가로 영역 550px */
    max-width: 550px;
    margin-right: 0; /* Phase 간 간격 0 - 간격 없이 우측으로 붙음 */
    isolation: isolate; /* 아치(z-index) 레이어가 다른 배경에 깔리지 않도록 */
    overflow: visible; /* 아치/도트 시각 요소 잘림 방지 */
    
    /* 기존 카드 스타일 제거 */
    background: none;
    border: none;
    border-radius: 0;
    padding: 0;
    
    text-align: left;
    color: #fff;
    z-index: 2;
}

/* timeline-item이 slide-in visible 상태일 때만 우측 패딩 추가 (모션 구간에서만 여백) */
.timeline-item.slide-in.visible {
    box-sizing: border-box; /* 패딩이 폭에 포함되도록 */
    padding-right: 2.5rem; /* 40px */
}

/* 타임라인 아이템 내부 텍스트는 아치 위로 */
.timeline-item > * {
    position: relative;
    z-index: 2;
}

/* 아치 좌측 하단(라인 시작점 중앙)에 위치하는 도트 - 화살표 헤드처럼 */
.phase-dot {
    position: absolute;
    top: 0; /* 아치 좌측 하단(라인 시작점 중앙) */
    left: -0.4375rem;
    width: 0.875rem;
    height: 0.875rem;
    border-radius: 50%;
    background: rgba(255, 255, 255, 1);
    border: 0.125rem solid rgba(73, 211, 255, 1);
    box-sizing: border-box;
    z-index: 3;
}

/* Phase 4의 마지막 도트 - 아치 오른쪽 끝점에 위치 */
.timeline-item[data-phase="04"] .phase-dot-end {
    left: auto; /* 기본 left 값 제거 */
    right: -7px; /* 아치 끝점(right: 0)에서 중앙정렬 (14px/2 = 7px) */
}

/* Phase 번호 라벨 (01 PHASE) - 도트 아래 20px 간격 */
.phase-number-label {
    margin-top: 34px; /* 도트(14px) + 간격(20px) = 34px */
    margin-bottom: 0;
    font-size: clamp(18px, 1.5vw, 24px);
    font-weight: 400;
    color: #49D3FF;
    letter-spacing: 1px;
    line-height: 1.4;
}

/* 모든 Phase에 아치 그리기 - SVG로 일정한 2px 두께 유지 */
.timeline-item::before {
    content: '';
    position: absolute;
    top: -275px; /* .roadmap-timeline padding-top 과 매칭 */
    left: 0; /* 이 Phase의 시작점에서 오른쪽으로 아치 그리기 */
    width: 550px; /* 지름 550px */
    height: 275px; /* 지름 550px 원의 절반 높이 */
    
    /* SVG로 반원 아치 그리기 - 일정한 2px 두께, 컬러 #49D3FF */
    background-image: url("data:image/svg+xml,%3Csvg width='550' height='275' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='arcGradient' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2383FFFF;stop-opacity:0.2'/%3E%3Cstop offset='100%25' style='stop-color:%2383FFFF;stop-opacity:0'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M 0 275 A 275 275 0 0 1 550 275' fill='url(%23arcGradient)'/%3E%3Cpath d='M 0 275 A 275 275 0 0 1 550 275' fill='none' stroke='%2349D3FF' stroke-width='2' stroke-dasharray='5,5'/%3E%3C/svg%3E");
    background-size: 100% 100%;
    background-repeat: no-repeat;
    background-position: center;
    
    pointer-events: none;
    z-index: 1; /* 아치가 배경에 깔리지 않도록 */
}

/* (정리) @keyframes pulse: 현재 어디에서도 사용되지 않아 제거됨 */

/* Timeline Heading (UPGRADE, ONBOARD 등) - 페이즈 타이틀 */
.timeline-heading {
    font-size: clamp(1.25rem, 2.5vw, 2rem);
    font-weight: 700;
    color: rgba(255, 255, 255, 1);
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
    line-height: 1.3;
    letter-spacing: 0.02em;
}

/* Timeline Subheading - 페이즈 부제 */
.timeline-subheading {
    font-size: clamp(1rem, 2vw, 1.5rem);
    font-weight: 700;
    color: rgba(255, 255, 255, 1);
    margin-bottom: 1.5rem;
    line-height: 1.5;
}

/* Timeline List (불릿 리스트) */
.timeline-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.timeline-list li {
    /* 불릿 영역/텍스트 영역 분리해서 줄바꿈 시 불릿 영역을 침범하지 않게 */
    display: grid;
    grid-template-columns: 0.9em 1fr; /* 불릿 칼럼 + 텍스트 칼럼 */
    column-gap: 0.5rem;
    align-items: start;
    font-size: clamp(0.875rem, 1.8vw, 1.25rem);
    font-weight: 400;
    color: rgba(195, 220, 231, 1);
    line-height: 1.4;
    margin-bottom: 0.375rem;
    padding-left: 0;
    position: relative;
}

.timeline-list li::before {
    content: '-';
    /* grid 1열(불릿 칼럼)에 고정 */
    margin-right: 0;
    color: rgba(255, 255, 255, 0.6);
    justify-self: start;
}

/* 반응형 디자인 - 가로 스크롤 유지 */
@media (max-width: 1024px) {
    .roadmap-timeline {
        margin-top: 100px;
        padding: 225px 5vw 40px 5vw; /* 지름 450px 원의 절반 높이 */
    }
    
    .timeline-item {
        flex: 0 0 450px; /* 태블릿에서 너비 조정 */
        max-width: 450px;
    }
    
    .timeline-item::before {
        width: 450px; /* 지름 450px */
        height: 225px; /* 지름 450px 원의 절반 높이 */
        top: -225px;
        /* SVG로 반원 아치 그리기 - 일정한 2px 두께, 컬러 #49D3FF */
        background-image: url("data:image/svg+xml,%3Csvg width='450' height='225' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='arcGradient' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2383FFFF;stop-opacity:0.2'/%3E%3Cstop offset='100%25' style='stop-color:%2383FFFF;stop-opacity:0'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M 0 225 A 225 225 0 0 1 450 225' fill='url(%23arcGradient)'/%3E%3Cpath d='M 0 225 A 225 225 0 0 1 450 225' fill='none' stroke='%2349D3FF' stroke-width='2' stroke-dasharray='5,5'/%3E%3C/svg%3E");
    }
    
    .phase-dot {
        top: 0; /* 태블릿 아치 좌측 하단 */
        left: -7px; /* 중앙정렬 */
    }
    
    /* Phase 4 마지막 도트/번호 라벨은 공통 규칙 사용 */
}

@media (max-width: 768px) {
    .roadmap-timeline {
        margin-top: 80px;
        padding: 160px 5vw 40px 5vw; /* 지름 320px 원의 절반 높이 */
    }
    
    .timeline-item {
        flex: 0 0 320px; /* 모바일에서 너비 조정 */
        max-width: 320px;
        margin-right: 0; /* 모바일에서도 phase 간격 0(아치 붙임) */
    }
    
    .timeline-item::before {
        width: 320px; /* 지름 320px */
        height: 160px; /* 지름 320px 원의 절반 높이 */
        top: -160px;
        /* SVG로 반원 아치 그리기 - 일정한 2px 두께, 컬러 #49D3FF */
        background-image: url("data:image/svg+xml,%3Csvg width='320' height='160' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='arcGradient' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2383FFFF;stop-opacity:0.2'/%3E%3Cstop offset='100%25' style='stop-color:%2383FFFF;stop-opacity:0'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M 0 160 A 160 160 0 0 1 320 160' fill='url(%23arcGradient)'/%3E%3Cpath d='M 0 160 A 160 160 0 0 1 320 160' fill='none' stroke='%2349D3FF' stroke-width='2' stroke-dasharray='5,5'/%3E%3C/svg%3E");
    }
    
    .phase-dot {
        top: 0; /* 모바일 아치 좌측 하단 */
        left: -7px; /* 중앙정렬 */
    }
    
    /* Phase 4 마지막 도트/번호 라벨은 공통 규칙 사용 */
    
    .roadmap-title {
        font-size: clamp(1.5rem, 6vw, 2.5rem);
        margin-bottom: 1rem;
    }
    
    .roadmap-subtitle {
        font-size: clamp(1rem, 3vw, 1.25rem);
        margin-bottom: 6vh;
    }
}

/* Slide In Animation */
.slide-in {
    opacity: 0;
    transform: translateY(100px);
    transition: opacity 0.8s ease, transform 0.8s ease;
}

.slide-in.visible {
    opacity: 1;
    transform: translateY(0);
}

/* cycle-container 전용 slide-in (브레이크포인트별로 별도 튜닝 가능) */
.cycle-container.slide-in {
    /* 공통 slide-in의 기본 translateY(100px)를 cycle 전용으로 분리 */
    transform: translateY(100px);
}

.cycle-container.slide-in.visible {
    transform: translateY(0);
}

@media (max-width: 1024px) {
    /* 태블릿: cycle slide-in 이동량만 별도 조정 */
    .cycle-container.slide-in {
        transform: translateY(80px);
    }
}

@media (max-width: 768px) {
    /* 모바일: cycle slide-in 이동량만 별도 조정 */
    .cycle-container.slide-in {
        transform: translateY(60px);
    }
}

/* Whitepaper Download Section */
.whitepaper-section {
    width: 100%;
    background: transparent; /* 통합 배경 사용 */
    padding: 10vh 5vw;
    position: relative;
    z-index: 10;
}

.whitepaper-container {
    width: 80%;
    max-width: 1440px;
    margin: 0 auto 100px auto; /* 좌우 중앙 정렬, 하단 100px 마진 */
    text-align: center;
}

/* 공통 섹션 타이틀 및 서브타이틀 스타일 적용 - 위에서 통합됨 */

/* NFT 버튼과 동일한 스타일 적용 */
.whitepaper-btn-wrapper {
    text-align: center;
}

.whitepaper-button {
    /* ✅ hover 해제 시 파란색 깜빡임 방지:
       - background(단색↔그라데이션) 자체를 바꾸지 않고,
       - ::before 오버레이(opacity)로만 그라데이션을 전환 */
    background: rgba(4, 6, 62, 1);
    border: none;
    outline: none;
    border-radius: 2.3125rem;
    padding: 0.8rem 2.6rem;
    font-size: clamp(1.125rem, 2.5vw, 1.75rem);
    font-weight: 700;
    line-height: 1.6;
    color: rgba(131, 255, 255, 1);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    font-family: 'LINE Seed Sans KR', sans-serif;
}

.whitepaper-button::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(180deg, #1a1f3a 0%, #2a2f4a 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    z-index: 0; /* ✅ 텍스트(라벨) 아래 */
}

.whitepaper-button .btn-label {
    position: relative;
    z-index: 1; /* ✅ 오버레이 위 */
}

.whitepaper-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.whitepaper-button:hover::before {
    opacity: 1;
}

/* Footer Section */
.footer-section {
    width: 100%;
    background: transparent; /* 통합 배경 사용 */
    border-top: 0.75px solid rgba(255, 255, 255, 0.4); /* 상단 구분선: 0.75px, 투명도 40% */
    padding: 48px 5vw 0 5vw;
    position: relative;
    z-index: 10;
}

.footer-container {
    width: 90%;
    max-width: 1600px;
    margin: 0 auto;
}

.footer-content {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding-bottom: 60px;
    gap: 40px;
}

/* 왼쪽: 브랜드 정보 */
.footer-left {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

.footer-logo {
    height: auto;
    width: auto;
    max-width: 122px;
    max-height: auto;
    object-fit: contain;
}

.footer-copyright {
    font-size: clamp(0.75rem, 1.5vw, 0.875rem);
    font-weight: 400;
    color: rgba(255, 255, 255, 0.7);
}

/* 오른쪽: 네비게이션 및 소셜 미디어 */
.footer-right {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 1.5rem;
}

.footer-nav {
    /* 블록 flex는 기본적으로 가로폭을 100%로 먹어서,
       텍스트가 줄바꿈되면 "우측으로 붙는" 효과가 깨질 수 있음 → inline-flex로 내용폭만큼만 */
    display: inline-flex;
    flex-direction: row; /* 가로배열로 변경 */
    /* 2줄로 떨어지는 항목이 생겨도 아이콘/텍스트가 "기준선"이 맞도록 상단 정렬 */
    align-items: flex-start;
    gap: 3.75rem; /* 가로 간격 */
}

.footer-link {
    font-size: clamp(0.875rem, 1.8vw, 1rem);
    font-weight: 400;
    color: rgba(255, 255, 255, 1);
    text-decoration: none;
    transition: opacity 0.3s ease;
    display: flex;
    /* 2줄 텍스트 + 아이콘 조합에서 아이콘이 가운데로 내려가는 현상 방지 */
    align-items: flex-start;
    gap: 0.5rem;
    min-width: 0; /* 줄바꿈/축소가 자연스럽게 되도록 */
    /* ✅ 줄바꿈 시 단어 단위로 떨어지도록 */
    white-space: normal;
    word-break: keep-all;
    overflow-wrap: normal;
}

/* ✅ footer-link 내부 텍스트는 flex에서 축소 가능해야(769~951 구간 간격 이슈 해결) */
.footer-link-text {
    display: block;
    min-width: 0;
    flex: 0 1 auto;
}

/* 외부링크/Top처럼 아이콘이 붙는 링크는 텍스트가 더 잘 줄어들게 */
.footer-link-external .footer-link-text,
.footer-link-top .footer-link-text {
    flex: 1 1 auto;
}

/* 외부링크 아이콘은 첫 줄 기준으로 정렬(줄바꿈 전 간격/정렬 유지) */
.footer-link-icon {
    align-self: flex-start;
    margin-top: 0.15em; /* 시각적으로 첫 줄 베이스라인에 맞춤 */
}

.footer-link:hover {
    opacity: 0.7;
}

/* 외부 링크 및 TOP 아이콘 */
.footer-link-icon {
    width: 1rem;
    height: 1rem;
    object-fit: contain;
    flex-shrink: 0;
}

.footer-social {
    display: flex;
    gap: 1.5rem;
    align-items: center;
}

.social-icon {
    width: 24px;
    height: 24px;
    color: #fff;
    transition: opacity 0.3s ease, transform 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.social-icon:hover {
    opacity: 0.7;
    transform: scale(1.1);
}

.social-icon svg {
    width: 100%;
    height: 100%;
}

/* 하단 슬로건 배너 - 뷰포트 전체 너비 */
.footer-slogan {
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    background: rgba(5, 6, 30, 1);
    padding: 1rem 0;
    overflow: hidden;
    position: relative;
}

.footer-slogan-wrapper {
    display: flex;
    align-items: center;
    gap: 0;
    width: fit-content;
    animation: scroll-left 30s linear infinite;
}

.footer-slogan-content {
    display: flex;
    align-items: center;
    gap: 5rem;
    white-space: nowrap;
}

.slogan-text {
    font-size: clamp(1.5rem, 2vw, 2rem);
    font-weight: 400;
    color: rgba(255, 255, 255, 1);
    white-space: nowrap;
    letter-spacing: 0.1em;
    text-transform: uppercase;
}

.slogan-separator {
    width: 2rem;
    height: 2rem;
    object-fit: contain;
    flex-shrink: 0;
}

/* 무한 스크롤 애니메이션 - 우측에서 좌측으로 */
@keyframes scroll-left {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(-50%);
    }
}

/* 반응형 디자인 */
@media (max-width: 768px) {
    .footer-content {
        flex-direction: column;
        align-items: flex-start;
        gap: 32px;
    }
    
    .footer-right {
        align-items: flex-start;
        width: 100%;
    }
    
    .footer-nav {
        flex-direction: column; /* 모바일에서는 세로배열 */
        align-items: flex-start;
        gap: 12px;
    }
    
    .footer-slogan {
        padding: 0.75rem 0;
    }
    
    .footer-slogan-content {
        gap: 3rem;
    }
    
    .slogan-text {
        font-size: clamp(1.25rem, 2vw, 1.75rem);
    }
    
    .slogan-separator {
        width: 1.5rem;
        height: 1.5rem;
    }
    
    .whitepaper-container {
        width: 90%;
    }
}

/* Responsive Design */
/* 태블릿 크기 (1440px 이하에서 3개가 맞지 않을 때) */
@media (max-width: 1024px) {
    .structure-cards {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2.5%; /* 40px 유지 */
    }
}

/* 태블릿(700~1024px): 카드 1개씩 가로형 리스트로 */
@media (min-width: 700px) and (max-width: 1024px) {
    .structure-cards {
        /* 한 줄에 1개씩 리스트 */
        grid-template-columns: 1fr;
        gap: 2rem;
    }

    .structure-card {
        /* 높이 고정 해제: 콘텐츠 기준으로 자연스럽게 */
        height: auto;
        min-height: 0;
    }

    .structure-card .card-content {
        /* 세로형 → 가로형(이미지-텍스트 좌우 배치) */
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        text-align: left;
        gap: 3.5rem;
        padding: 3.5rem 3rem; /* 태블릿용 패딩 */
    }

    .structure-card .crystal-img {
        /* 태블릿에서 이미지가 과도하게 커지지 않도록 */
        width: min(200px, 35%);
        max-width: 220px;
        margin-bottom: 0;
        flex-shrink: 0;
    }

    .structure-card .card-text-group {
        align-items: flex-start;
        text-align: left;
        flex: 1 1 auto;
    }
}

@media (max-width: 768px) {
    .hero-content {
        left: 20px;
        right: 20px;
        bottom: 40px;
        flex-direction: column;
        align-items: flex-start;
        gap: 40px;
    }
    
    .hero-text {
        max-width: 85%;
    }
    
    .hero-main-text {
        font-size: clamp(2.5rem, 10vw, 3.5rem);
    }
    
    .hero-sub-text {
        font-size: clamp(1.125rem, 3vw, 1.5rem);
    }
    
    .hero-scroll-indicator {
        width: 60px;
        height: 60px;
        align-self: flex-end;
    }
    
    .hero-scroll-indicator .scroll-arrow-img {
        width: 60px;
        height: 60px;
    }
    
    .vision-content {
        padding: 0;
    }
    
    /* cycle-container는 공통의 비율 유지 스케일 규칙을 사용 */
    
    .structure-cards {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
    }
    
    .structure-card {
        width: 100%;
        max-width: 100%;
        height: auto;
    }
    
    .structure-card .crystal-img {
        width: 140px;
        margin-bottom: 30px;
    }
    
    .structure-card .card-content h3 {
        font-size: clamp(1.5rem, 4vw, 2.5rem);
    }
    
    .structure-card .card-content p {
        font-size: clamp(1rem, 2.5vw, 1.25rem);
    }
    
    .nft-levels,
    .roadmap-timeline {
        grid-template-columns: 1fr;
    }
}

/* 700~768px 구간: 모바일 공통(max-width:768)에서 2컬럼으로 되돌아가는 것을 방지
   - (max-width:768)에서 auto-fit/minmax로 덮이는 문제만 최소 오버라이드로 차단 */
@media (min-width: 700px) and (max-width: 768px) {
    .structure-cards {
        grid-template-columns: 1fr !important; /* 1라인 리스트 고정 */
        gap: 2rem;
    }
}

/* 700px 이하: 스트럭처 카드 패딩 고정 (60/20/60/20) */
@media (max-width: 700px) {
    .structure-card .card-content {
        padding: 60px 20px 60px 20px;
    }
}

